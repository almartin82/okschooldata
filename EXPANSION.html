<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Oklahoma School Data Expansion Research • okschooldata</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Oklahoma School Data Expansion Research"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">okschooldata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Tutorials</h6></li>
    <li><a class="dropdown-item" href="articles/quickstart.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="articles/data-quality-qa.html">Data Quality Analysis</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/almartin82/okschooldata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Oklahoma School Data Expansion Research</h1>
      <small class="dont-index">Source: <a href="https://github.com/almartin82/okschooldata/blob/main/EXPANSION.md" class="external-link"><code>EXPANSION.md</code></a></small>
    </div>

<div id="oklahoma-school-data-expansion-research" class="section level1">

<p><strong>Last Updated:</strong> 2026-01-04 <strong>Theme Researched:</strong> Graduation Rates</p>
<div class="section level2">
<h2 id="executive-summary">Executive Summary<a class="anchor" aria-label="anchor" href="#executive-summary"></a></h2>
<p>Oklahoma graduation data is primarily accessible through <strong>OklaSchools.com</strong>, which is a JavaScript SPA with an authenticated API. Direct Excel/CSV downloads are NOT available from oklahoma.gov for graduation rates. The primary data access method requires either: 1. Using the authenticated OklaSchools.com export feature (requires login) 2. Browser automation/Selenium to access the SPA’s download functionality 3. Requesting data via Open Records Request</p>
<p><strong>Complexity: HARD</strong> - No direct public file downloads available for graduation rates.</p>
<hr></div>
<div class="section level2">
<h2 id="data-sources-found">Data Sources Found<a class="anchor" aria-label="anchor" href="#data-sources-found"></a></h2>
<div class="section level3">
<h3 id="source-1-oklaschoolscom-primary---report-card-dashboard">Source 1: OklaSchools.com (Primary - Report Card Dashboard)<a class="anchor" aria-label="anchor" href="#source-1-oklaschoolscom-primary---report-card-dashboard"></a></h3>
<ul><li>
<strong>URL:</strong> <a href="https://oklaschools.com/state/graduation" class="external-link uri">https://oklaschools.com/state/graduation</a>
</li>
<li>
<strong>HTTP Status:</strong> 200 (JavaScript SPA)</li>
<li>
<strong>Format:</strong> Interactive dashboard with CSV/Excel export feature</li>
<li>
<strong>Years Available:</strong> 2018-2025 (based on report card history)</li>
<li>
<strong>Access Method:</strong> JavaScript-rendered; requires browser or API authentication</li>
</ul><p><strong>Notes:</strong> - SPA at <a href="https://oklaschools.com" class="external-link uri">https://oklaschools.com</a> uses Vue.js and requires API authentication - API endpoints discovered: <code>/api/years/</code>, <code>/api/definitions/</code>, <code>/api/download-stats/</code> - API returns <code>{ "error" : "Forbidden: Invalid API Key" }</code> without authentication - Has <code>downloadIndicatorEntity</code> function in JS for CSV exports - Download feature available on graduation pages at district/school level</p>
<p><strong>Metrics Available:</strong> - 4-year adjusted cohort graduation rate (4Y) - 5-year adjusted cohort graduation rate (5Y) - 6-year adjusted cohort graduation rate (6Y) - Graduation improvement score - State goal tracking (90% by 2025)</p>
</div>
<div class="section level3">
<h3 id="source-2-oklahoma-open-data-dataokgov---limited-historical">Source 2: Oklahoma Open Data (data.ok.gov) - Limited Historical<a class="anchor" aria-label="anchor" href="#source-2-oklahoma-open-data-dataokgov---limited-historical"></a></h3>
<ul><li>
<strong>URL:</strong> <a href="https://data.ok.gov/dataset/high-school-graduation-rate" class="external-link uri">https://data.ok.gov/dataset/high-school-graduation-rate</a>
</li>
<li>
<strong>HTTP Status:</strong> 200 (302 redirect to S3)</li>
<li>
<strong>Format:</strong> CSV</li>
<li>
<strong>Years Available:</strong> 2013-2018 (very limited - mostly zeros)</li>
<li>
<strong>Access Method:</strong> Direct download</li>
</ul><p><strong>Files Available:</strong> 1. <code>data-high-school-graduation-rate.csv</code> - URL: <a href="https://data.ok.gov/dataset/0c1806d4-1510-468c-93f8-4cb92045cf0f/resource/57fbe906-8c0c-457c-936f-cb98f2ac3e8e/download/data-high-school-graduation-rate.csv" class="external-link uri">https://data.ok.gov/dataset/0c1806d4-1510-468c-93f8-4cb92045cf0f/resource/57fbe906-8c0c-457c-936f-cb98f2ac3e8e/download/data-high-school-graduation-rate.csv</a></p>
<p><strong>Actual Data Content:</strong></p>
<pre class="csv"><code>Years,Historical Data,Target
2013,84.70%,0.00%
2014,0.00%,0.00%
2015,0.00%,0.00%
2016,0.00%,0.00%
2017,0.00%,0.00%
2018,0.00%,86.20%</code></pre>
<p><strong>Assessment:</strong> Extremely limited - only state-level targets, not district/school data. Not suitable for package implementation.</p>
</div>
<div class="section level3">
<h3 id="source-3-oklahomagov-statewide-education-metrics">Source 3: Oklahoma.gov Statewide Education Metrics<a class="anchor" aria-label="anchor" href="#source-3-oklahomagov-statewide-education-metrics"></a></h3>
<ul><li>
<strong>URL:</strong> <a href="https://oklahoma.gov/content/dam/ok/en/top/documents/datasheets/Statewide-Education-Goal-Metrics-2022.xlsx" class="external-link uri">https://oklahoma.gov/content/dam/ok/en/top/documents/datasheets/Statewide-Education-Goal-Metrics-2022.xlsx</a>
</li>
<li>
<strong>HTTP Status:</strong> 200</li>
<li>
<strong>Format:</strong> Excel (.xlsx)</li>
<li>
<strong>Years Available:</strong> 2022</li>
<li>
<strong>Access Method:</strong> Direct download</li>
</ul><p><strong>Assessment:</strong> Contains statewide metrics only, not district/school level granularity needed.</p>
</div>
<div class="section level3">
<h3 id="source-4-legacy-sdeokgov-files-broken">Source 4: Legacy sde.ok.gov Files (BROKEN)<a class="anchor" aria-label="anchor" href="#source-4-legacy-sdeokgov-files-broken"></a></h3>
<ul><li>
<strong>URL:</strong> <a href="https://sde.ok.gov/sites/ok.gov.sde/files/documents/files/2015%20District%20Graduation%20Rates.xlsx" class="external-link uri">https://sde.ok.gov/sites/ok.gov.sde/files/documents/files/2015%20District%20Graduation%20Rates.xlsx</a>
</li>
<li>
<strong>HTTP Status:</strong> 301 -&gt; 301 (redirects to oklahoma.gov/education)</li>
<li>
<strong>Assessment:</strong> Legacy URLs are broken. Domain has migrated.</li>
</ul></div>
<div class="section level3">
<h3 id="source-5-osde-accountability-archive">Source 5: OSDE Accountability Archive<a class="anchor" aria-label="anchor" href="#source-5-osde-accountability-archive"></a></h3>
<ul><li>
<strong>URL:</strong> <a href="https://sde.ok.gov/accountability-archive" class="external-link uri">https://sde.ok.gov/accountability-archive</a> (referenced in search results)</li>
<li>
<strong>HTTP Status:</strong> Unable to verify (SSL certificate issues)</li>
<li>
<strong>Years Available:</strong> Claimed to have 2015-2016 Four Year Cohort Graduation Rate data</li>
<li>
<strong>Access Method:</strong> May require SSO authentication</li>
</ul><p><strong>Assessment:</strong> Historical archive may contain older files but current access is problematic.</p>
</div>
<div class="section level3">
<h3 id="source-6-accountability-reporting-application-sso-required">Source 6: Accountability Reporting Application (SSO Required)<a class="anchor" aria-label="anchor" href="#source-6-accountability-reporting-application-sso-required"></a></h3>
<ul><li>
<strong>URL:</strong> <a href="https://oklahoma.gov/education/services/accountability/resources-accountability-reporting-sso.html" class="external-link uri">https://oklahoma.gov/education/services/accountability/resources-accountability-reporting-sso.html</a>
</li>
<li>
<strong>Format:</strong> Web application with Excel export</li>
<li>
<strong>Access Method:</strong> Single Sign-On (district/school officials only)</li>
</ul><p><strong>Assessment:</strong> Not accessible for automated data collection without official credentials.</p>
<hr></div>
</div>
<div class="section level2">
<h2 id="schema-analysis">Schema Analysis<a class="anchor" aria-label="anchor" href="#schema-analysis"></a></h2>
<div class="section level3">
<h3 id="graduation-indicator-components-from-oklaschoolscom">Graduation Indicator Components (from OklaSchools.com)<a class="anchor" aria-label="anchor" href="#graduation-indicator-components-from-oklaschoolscom"></a></h3>
<p>Based on documentation and UI analysis:</p>
<table class="table"><colgroup><col width="26%"><col width="43%"><col width="30%"></colgroup><thead><tr class="header"><th>Metric</th>
<th>Description</th>
<th>Formula</th>
</tr></thead><tbody><tr class="odd"><td>4Y Rate</td>
<td>Four-year graduation rate</td>
<td>(Graduates in 4 years) / (Adjusted cohort)</td>
</tr><tr class="even"><td>5Y Rate</td>
<td>Five-year graduation rate</td>
<td>(Graduates in 5 years) / (Adjusted cohort)</td>
</tr><tr class="odd"><td>6Y Rate</td>
<td>Six-year graduation rate (since 2018-19)</td>
<td>(Graduates in 6 years) / (Adjusted cohort)</td>
</tr><tr class="even"><td>Improvement Score</td>
<td>Not a “rate” - measures later graduates</td>
<td>Points for students graduating in 5th/6th year</td>
</tr><tr class="odd"><td>Graduation Indicator</td>
<td>Composite score</td>
<td>Weighted combination of above</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="adjusted-cohort-graduation-rate-acgr-definition">Adjusted Cohort Graduation Rate (ACGR) Definition<a class="anchor" aria-label="anchor" href="#adjusted-cohort-graduation-rate-acgr-definition"></a></h3>
<p>Per Oklahoma’s methodology: - <strong>Cohort:</strong> Students entering 9th grade for first time - <strong>Adjustments:</strong> - Add: Transfer-ins to cohort - Subtract: Transfer-outs, emigrations, deaths - <strong>Graduation:</strong> Regular diploma OR alternate diploma (for significant cognitive disabilities)</p>
</div>
<div class="section level3">
<h3 id="expected-id-format">Expected ID Format<a class="anchor" aria-label="anchor" href="#expected-id-format"></a></h3>
<p>Based on existing enrollment data in package: - <strong>District ID:</strong> 5-6 characters (e.g., “55I001” = County 55, Independent, District 001) - <strong>Site ID:</strong> 9 characters (e.g., “55I001001” = District 55I001, Site 001) - <strong>County Codes:</strong> 01-77 (77 counties in Oklahoma) - <strong>District Types:</strong> I=Independent, D=Dependent, C=City, T=Town, E=Elementary</p>
</div>
<div class="section level3">
<h3 id="expected-column-names-based-on-oklaschools-indicators">Expected Column Names (based on OklaSchools indicators)<a class="anchor" aria-label="anchor" href="#expected-column-names-based-on-oklaschools-indicators"></a></h3>
<table class="table"><thead><tr class="header"><th>Standard Name</th>
<th>Possible Raw Names</th>
</tr></thead><tbody><tr class="odd"><td>district_id</td>
<td>District Code, DistrictCode, DISTRICT CODE</td>
</tr><tr class="even"><td>district_name</td>
<td>District Name, District, DISTRICT</td>
</tr><tr class="odd"><td>site_id</td>
<td>Site Code, Site ID, School Code</td>
</tr><tr class="even"><td>site_name</td>
<td>Site Name, School Name, SITE NAME</td>
</tr><tr class="odd"><td>end_year</td>
<td>Year, School Year, SY</td>
</tr><tr class="even"><td>cohort_count</td>
<td>Cohort, Cohort Count, Adjusted Cohort</td>
</tr><tr class="odd"><td>grad_4yr_count</td>
<td>4 Year Graduates, Four Year Grads</td>
</tr><tr class="even"><td>grad_4yr_rate</td>
<td>4Y Rate, Four Year Rate, 4 Yr Graduation Rate</td>
</tr><tr class="odd"><td>grad_5yr_count</td>
<td>5 Year Graduates, Five Year Grads</td>
</tr><tr class="even"><td>grad_5yr_rate</td>
<td>5Y Rate, Five Year Rate</td>
</tr><tr class="odd"><td>grad_6yr_count</td>
<td>6 Year Graduates, Six Year Grads</td>
</tr><tr class="even"><td>grad_6yr_rate</td>
<td>6Y Rate, Six Year Rate</td>
</tr></tbody></table><hr></div>
</div>
<div class="section level2">
<h2 id="time-series-heuristics">Time Series Heuristics<a class="anchor" aria-label="anchor" href="#time-series-heuristics"></a></h2>
<p>Based on publicly available information:</p>
<table class="table"><thead><tr class="header"><th>Metric</th>
<th>Expected Range</th>
<th>Red Flag If</th>
</tr></thead><tbody><tr class="odd"><td>State 4Y Graduation Rate</td>
<td>78% - 90%</td>
<td>Outside 75%-95%</td>
</tr><tr class="even"><td>State 4Y Rate YoY Change</td>
<td>-2% to +3%</td>
<td>Change &gt; 5%</td>
</tr><tr class="odd"><td>District Count</td>
<td>~500 districts</td>
<td>Major change from year to year</td>
</tr><tr class="even"><td>Cohort Size (State)</td>
<td>40,000-50,000 students</td>
<td>Outside 35,000-55,000</td>
</tr><tr class="odd"><td>Major District Rates</td>
<td>70%-95%</td>
<td>&lt; 50% or &gt; 98%</td>
</tr></tbody></table><div class="section level3">
<h3 id="known-data-points-for-fidelity-tests">Known Data Points (for fidelity tests)<a class="anchor" aria-label="anchor" href="#known-data-points-for-fidelity-tests"></a></h3>
<ul><li>2024 State 4Y Graduation Rate: 82.2%</li>
<li>2023 State 4Y Graduation Rate: 81.3%</li>
<li>State Goal (2025): 90%</li>
<li>2023 State Grade: D</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="access-challenges">Access Challenges<a class="anchor" aria-label="anchor" href="#access-challenges"></a></h2>
<div class="section level3">
<h3 id="primary-issue-no-direct-public-file-downloads">Primary Issue: No Direct Public File Downloads<a class="anchor" aria-label="anchor" href="#primary-issue-no-direct-public-file-downloads"></a></h3>
<p>Unlike enrollment data (which has Excel files on oklahoma.gov), graduation data is: 1. <strong>Not published as downloadable files</strong> on oklahoma.gov/content/dam 2. <strong>Only accessible via OklaSchools.com</strong> dashboard (authenticated API) 3. <strong>Historical files on legacy.sde.ok.gov</strong> are broken/redirected</p>
</div>
<div class="section level3">
<h3 id="technical-barriers">Technical Barriers<a class="anchor" aria-label="anchor" href="#technical-barriers"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>OklaSchools.com is a JavaScript SPA</strong>
<ul><li>Static scraping won’t work</li>
<li>Requires Selenium/Playwright for browser automation</li>
<li>API requires authentication token</li>
</ul></li>
<li>
<strong>API Authentication Required</strong>
<ul><li>
<code>/api/years/</code> returns “Forbidden: Invalid API Key”</li>
<li>No public API documentation found</li>
<li>Would need to capture auth token from browser session</li>
</ul></li>
<li>
<strong>Export Feature Requires Authentication</strong>
<ul><li>“Download Data” button exists on pages</li>
<li>But requires active browser session</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="potential-solutions-in-order-of-preference">Potential Solutions (in order of preference)<a class="anchor" aria-label="anchor" href="#potential-solutions-in-order-of-preference"></a></h3>
<ol style="list-style-type: decimal"><li>
<strong>Selenium/Playwright Automation</strong>
<ul><li>Navigate to OklaSchools.com graduation pages</li>
<li>Click “Download Data” button</li>
<li>Capture resulting CSV/Excel file</li>
<li>Complexity: HIGH</li>
<li>Dependencies: RSelenium or reticulate + selenium</li>
</ul></li>
<li>
<strong>API Token Capture</strong>
<ul><li>Reverse-engineer authentication flow</li>
<li>Capture and reuse API tokens</li>
<li>Risk: Tokens may expire, ToS concerns</li>
<li>Not recommended</li>
</ul></li>
<li>
<strong>Open Records Request</strong>
<ul><li>Submit formal request to OSDE</li>
<li>Receive historical data files</li>
<li>One-time only, not automated</li>
<li>Use as <code>import_local_grad()</code> fallback</li>
</ul></li>
<li>
<strong>Wait for Direct Downloads</strong>
<ul><li>Monitor OSDE for future public data releases</li>
<li>Check annually for new file URLs</li>
</ul></li>
</ol><hr></div>
</div>
<div class="section level2">
<h2 id="subgroup-data-availability">Subgroup Data Availability<a class="anchor" aria-label="anchor" href="#subgroup-data-availability"></a></h2>
<p>Based on OklaSchools.com indicators, graduation rates are available by:</p>
<div class="section level3">
<h3 id="demographic-subgroups">Demographic Subgroups<a class="anchor" aria-label="anchor" href="#demographic-subgroups"></a></h3>
<ul><li>All Students</li>
<li>American Indian/Alaska Native</li>
<li>Asian</li>
<li>Black/African American</li>
<li>Hispanic/Latino</li>
<li>Native Hawaiian/Pacific Islander</li>
<li>White</li>
<li>Two or More Races</li>
</ul></div>
<div class="section level3">
<h3 id="special-populations">Special Populations<a class="anchor" aria-label="anchor" href="#special-populations"></a></h3>
<ul><li>Economically Disadvantaged</li>
<li>English Learners (EL)</li>
<li>Students with Disabilities (SWD)</li>
<li>Foster Care</li>
<li>Homeless</li>
<li>Migrant</li>
<li>Military Connected</li>
</ul></div>
<div class="section level3">
<h3 id="other-breakdowns">Other Breakdowns<a class="anchor" aria-label="anchor" href="#other-breakdowns"></a></h3>
<ul><li>Male/Female</li>
<li>By School Type (Traditional, Charter, Virtual)</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="recommended-implementation">Recommended Implementation<a class="anchor" aria-label="anchor" href="#recommended-implementation"></a></h2>
<div class="section level3">
<h3 id="priority-low">Priority: LOW<a class="anchor" aria-label="anchor" href="#priority-low"></a></h3>
</div>
<div class="section level3">
<h3 id="complexity-hard">Complexity: HARD<a class="anchor" aria-label="anchor" href="#complexity-hard"></a></h3>
</div>
<div class="section level3">
<h3 id="estimated-files-to-modify-5-7-plus-selenium-dependencies">Estimated Files to Modify: 5-7 (plus Selenium dependencies)<a class="anchor" aria-label="anchor" href="#estimated-files-to-modify-5-7-plus-selenium-dependencies"></a></h3>
<p>Given the lack of direct public file downloads, implementation would require:</p>
<ol style="list-style-type: decimal"><li>
<strong>Add Selenium/browser automation infrastructure</strong>
<ul><li>New dependency: RSelenium or reticulate + selenium</li>
<li>Complex setup for CI/CD environments</li>
</ul></li>
<li>
<strong>Create browser automation workflow</strong>
<ul><li>Navigate to OklaSchools.com</li>
<li>Authenticate (if required) or use public download</li>
<li>Click download buttons per year</li>
<li>Parse resulting files</li>
</ul></li>
<li>
<strong>Alternative: import_local_grad() fallback</strong>
<ul><li>Document process for manual data download</li>
<li>Provide function to import locally saved files</li>
<li>Not ideal but functional</li>
</ul></li>
</ol></div>
<div class="section level3">
<h3 id="implementation-steps-if-proceeding">Implementation Steps (if proceeding)<a class="anchor" aria-label="anchor" href="#implementation-steps-if-proceeding"></a></h3>
<ol style="list-style-type: decimal"><li>Investigate if OklaSchools.com has any public/unauthenticated download endpoints</li>
<li>Set up RSelenium or reticulate + Playwright</li>
<li>Create <code>get_raw_grad()</code> function with browser automation</li>
<li>Process downloaded files to standard schema</li>
<li>Add <code>tidy_grad()</code> transformation</li>
<li>Create fidelity tests with known values</li>
</ol><hr></div>
</div>
<div class="section level2">
<h2 id="test-requirements">Test Requirements<a class="anchor" aria-label="anchor" href="#test-requirements"></a></h2>
<div class="section level3">
<h3 id="raw-data-fidelity-tests-needed">Raw Data Fidelity Tests Needed<a class="anchor" aria-label="anchor" href="#raw-data-fidelity-tests-needed"></a></h3>
<p><strong>Note:</strong> Actual raw values require access to data files. Tests would verify:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"2024: State 4Y graduation rate matches known value"</span>, <span class="op">{</span></span>
<span>  <span class="fu">skip_if_offline</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">fetch_grad</span><span class="op">(</span><span class="fl">2024</span>, tidy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">state_data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">is_state</span>, <span class="va">subgroup</span> <span class="op">==</span> <span class="st">"all_students"</span><span class="op">)</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="va">state_data</span><span class="op">$</span><span class="va">grad_4yr_rate</span>, <span class="fl">82.2</span>, tolerance <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"2023: State 4Y graduation rate matches known value"</span>, <span class="op">{</span></span>
<span>  <span class="fu">skip_if_offline</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">fetch_grad</span><span class="op">(</span><span class="fl">2023</span>, tidy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="va">state_data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">is_state</span>, <span class="va">subgroup</span> <span class="op">==</span> <span class="st">"all_students"</span><span class="op">)</span></span>
<span>  <span class="fu">expect_equal</span><span class="op">(</span><span class="va">state_data</span><span class="op">$</span><span class="va">grad_4yr_rate</span>, <span class="fl">81.3</span>, tolerance <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-quality-checks">Data Quality Checks<a class="anchor" aria-label="anchor" href="#data-quality-checks"></a></h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">test_that</span><span class="op">(</span><span class="st">"Graduation rates are valid percentages"</span>, <span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">fetch_grad</span><span class="op">(</span><span class="fl">2024</span>, tidy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="fu">expect_true</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">grad_4yr_rate</span> <span class="op">&gt;=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">grad_4yr_rate</span> <span class="op">&lt;=</span> <span class="fl">100</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">expect_true</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">grad_5yr_rate</span> <span class="op">&gt;=</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">data</span><span class="op">$</span><span class="va">grad_5yr_rate</span> <span class="op">&lt;=</span> <span class="fl">100</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"Cohort counts are non-negative"</span>, <span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">fetch_grad</span><span class="op">(</span><span class="fl">2024</span>, tidy <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>  <span class="fu">expect_true</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">cohort_count</span> <span class="op">&gt;=</span> <span class="fl">0</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">test_that</span><span class="op">(</span><span class="st">"5Y rate &gt;= 4Y rate (logically)"</span>, <span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">fetch_grad</span><span class="op">(</span><span class="fl">2024</span>, tidy <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">grad_4yr_rate</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">grad_5yr_rate</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu">expect_true</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">grad_5yr_rate</span> <span class="op">&gt;=</span> <span class="va">data</span><span class="op">$</span><span class="va">grad_4yr_rate</span> <span class="op">-</span> <span class="fl">0.1</span><span class="op">)</span><span class="op">)</span>  <span class="co"># small tolerance for rounding</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<hr></div>
</div>
<div class="section level2">
<h2 id="alternative-data-sources-considered">Alternative Data Sources Considered<a class="anchor" aria-label="anchor" href="#alternative-data-sources-considered"></a></h2>
<div class="section level3">
<h3 id="not-recommended-federal-sources">NOT RECOMMENDED (Federal Sources)<a class="anchor" aria-label="anchor" href="#not-recommended-federal-sources"></a></h3>
<ul><li>NCES CCD - Federal aggregation, loses state-specific details</li>
<li>Urban Institute Education Data Portal - Uses federal data</li>
<li>Ed Data Express - Federal source</li>
</ul></div>
<div class="section level3">
<h3 id="why-state-data-is-preferred">Why State Data is Preferred<a class="anchor" aria-label="anchor" href="#why-state-data-is-preferred"></a></h3>
<ul><li>Oklahoma uses state-specific definitions for graduation cohorts</li>
<li>Subgroup categorizations may differ from federal</li>
<li>State data includes improvement scores not in federal data</li>
<li>Real-time updates vs. federal lag</li>
</ul><hr></div>
</div>
<div class="section level2">
<h2 id="contact-information">Contact Information<a class="anchor" aria-label="anchor" href="#contact-information"></a></h2>
<p>For data questions: - <strong>Email:</strong> <a href="mailto:Accountability@sde.ok.gov" class="email">Accountability@sde.ok.gov</a> - <strong>Phone:</strong> 405-522-5169 - <strong>Open Records Request:</strong> Contact OSDE directly</p>
<hr></div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a></h2>
<p>Oklahoma graduation data implementation faces significant barriers due to: 1. No direct public file downloads from state DOE 2. OklaSchools.com requires browser automation or API authentication 3. Legacy data files are broken/redirected</p>
<p><strong>Recommendation:</strong> Defer implementation until either: - OSDE publishes direct download files (like enrollment) - Package adds Selenium infrastructure for other purposes - User specifically needs graduation data and accepts manual download workflow</p>
<p>If proceeding, start with <code>import_local_grad()</code> fallback and investigate OklaSchools.com automation as a secondary phase.</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Al Martin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

