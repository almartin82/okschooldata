[{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"concurrent-task-limit","dir":"","previous_headings":"","what":"CONCURRENT TASK LIMIT","title":"Claude Code Instructions","text":"Maximum 5 background tasks running simultaneously launching multiple agents (e.g., mass audits), batch groups 5 Wait current batch complete launching next batch","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"git-commit-policy","dir":"","previous_headings":"","what":"GIT COMMIT POLICY","title":"Claude Code Instructions","text":"Commits allowed Claude Code attribution, Co-Authored-trailers, emojis Write normal commit messages human wrote ","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pyokschooldata && pytest tests/test_pyokschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pyokschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"readme-and-vignette-code-matching-required","dir":"","previous_headings":"","what":"README and Vignette Code Matching (REQUIRED)","title":"Claude Code Instructions","text":"CRITICAL RULE (2026-01-08): code blocks README MUST match code vignette EXACTLY (1:1 correspondence).","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"why-this-matters","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Why This Matters","title":"Claude Code Instructions","text":"Idaho fix revealed critical bugs README code didn’t match vignettes: - Wrong district names (lowercase vs CAPS) - Text claims contradicted actual data - Missing data output examples","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"readme-story-structure-required","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"README Story Structure (REQUIRED)","title":"Claude Code Instructions","text":"Every story/section README MUST follow structure: Claim: factual statement data Explication: Brief explanation matters Code: R code fetches analyzes data (MUST exist vignette) Code Output: Data table/print statement showing actual values (REQUIRED) Visualization: Chart vignette (auto-generated pkgdown)","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"enforcement","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Enforcement","title":"Claude Code Instructions","text":"state-deploy skill verifies deployment: - Extracts README code blocks - Searches vignettes EXACT matches - Fails deployment code found vignettes - Randomly audits packages claim accuracy","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"what-this-prevents","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"What This Prevents","title":"Claude Code Instructions","text":"❌ Wrong district/entity names (case sensitivity, typos) ❌ Text claims contradict data ❌ Broken code fails silently ❌ Missing data output ✅ Verified, accurate, reproducible examples","code":""},{"path":"https://almartin82.github.io/okschooldata/CLAUDE.html","id":"example","dir":"","previous_headings":"README and Vignette Code Matching (REQUIRED)","what":"Example","title":"Claude Code Instructions","text":"```","code":"### 1. State enrollment grew 28% since 2002  State added 68,000 students from 2002 to 2026, bucking national trends.  ```r library(arschooldata) library(dplyr)  enr <- fetch_enr_multi(2002:2026)  enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students) %>%   filter(end_year %in% c(2002, 2026)) %>%   mutate(change = n_students - lag(n_students),          pct_change = round((n_students / lag(n_students) - 1) * 100, 1)) # Prints: 2002=XXX, 2026=YYY, change=ZZZ, pct=PP.P%"},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":null,"dir":"","previous_headings":"","what":"Oklahoma School Data Expansion Research","title":"Oklahoma School Data Expansion Research","text":"Last Updated: 2026-01-04 Theme Researched: Graduation Rates","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"executive-summary","dir":"","previous_headings":"","what":"Executive Summary","title":"Oklahoma School Data Expansion Research","text":"Oklahoma graduation data primarily accessible OklaSchools.com, JavaScript SPA authenticated API. Direct Excel/CSV downloads available oklahoma.gov graduation rates. primary data access method requires either: 1. Using authenticated OklaSchools.com export feature (requires login) 2. Browser automation/Selenium access SPA’s download functionality 3. Requesting data via Open Records Request Complexity: HARD - direct public file downloads available graduation rates.","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"source-1-oklaschoolscom-primary---report-card-dashboard","dir":"","previous_headings":"Data Sources Found","what":"Source 1: OklaSchools.com (Primary - Report Card Dashboard)","title":"Oklahoma School Data Expansion Research","text":"URL: https://oklaschools.com/state/graduation HTTP Status: 200 (JavaScript SPA) Format: Interactive dashboard CSV/Excel export feature Years Available: 2018-2025 (based report card history) Access Method: JavaScript-rendered; requires browser API authentication Notes: - SPA https://oklaschools.com uses Vue.js requires API authentication - API endpoints discovered: /api/years/, /api/definitions/, /api/download-stats/ - API returns { \"error\" : \"Forbidden: Invalid API Key\" } without authentication - downloadIndicatorEntity function JS CSV exports - Download feature available graduation pages district/school level Metrics Available: - 4-year adjusted cohort graduation rate (4Y) - 5-year adjusted cohort graduation rate (5Y) - 6-year adjusted cohort graduation rate (6Y) - Graduation improvement score - State goal tracking (90% 2025)","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"source-2-oklahoma-open-data-dataokgov---limited-historical","dir":"","previous_headings":"Data Sources Found","what":"Source 2: Oklahoma Open Data (data.ok.gov) - Limited Historical","title":"Oklahoma School Data Expansion Research","text":"URL: https://data.ok.gov/dataset/high-school-graduation-rate HTTP Status: 200 (302 redirect S3) Format: CSV Years Available: 2013-2018 (limited - mostly zeros) Access Method: Direct download Files Available: 1. data-high-school-graduation-rate.csv - URL: https://data.ok.gov/dataset/0c1806d4-1510-468c-93f8-4cb92045cf0f/resource/57fbe906-8c0c-457c-936f-cb98f2ac3e8e/download/data-high-school-graduation-rate.csv Actual Data Content: Assessment: Extremely limited - state-level targets, district/school data. suitable package implementation.","code":"Years,Historical Data,Target 2013,84.70%,0.00% 2014,0.00%,0.00% 2015,0.00%,0.00% 2016,0.00%,0.00% 2017,0.00%,0.00% 2018,0.00%,86.20%"},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"source-3-oklahomagov-statewide-education-metrics","dir":"","previous_headings":"Data Sources Found","what":"Source 3: Oklahoma.gov Statewide Education Metrics","title":"Oklahoma School Data Expansion Research","text":"URL: https://oklahoma.gov/content/dam/ok/en/top/documents/datasheets/Statewide-Education-Goal-Metrics-2022.xlsx HTTP Status: 200 Format: Excel (.xlsx) Years Available: 2022 Access Method: Direct download Assessment: Contains statewide metrics , district/school level granularity needed.","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"source-4-legacy-sdeokgov-files-broken","dir":"","previous_headings":"Data Sources Found","what":"Source 4: Legacy sde.ok.gov Files (BROKEN)","title":"Oklahoma School Data Expansion Research","text":"URL: https://sde.ok.gov/sites/ok.gov.sde/files/documents/files/2015%20District%20Graduation%20Rates.xlsx HTTP Status: 301 -> 301 (redirects oklahoma.gov/education) Assessment: Legacy URLs broken. Domain migrated.","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"source-5-osde-accountability-archive","dir":"","previous_headings":"Data Sources Found","what":"Source 5: OSDE Accountability Archive","title":"Oklahoma School Data Expansion Research","text":"URL: https://sde.ok.gov/accountability-archive (referenced search results) HTTP Status: Unable verify (SSL certificate issues) Years Available: Claimed 2015-2016 Four Year Cohort Graduation Rate data Access Method: May require SSO authentication Assessment: Historical archive may contain older files current access problematic.","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"source-6-accountability-reporting-application-sso-required","dir":"","previous_headings":"Data Sources Found","what":"Source 6: Accountability Reporting Application (SSO Required)","title":"Oklahoma School Data Expansion Research","text":"URL: https://oklahoma.gov/education/services/accountability/resources-accountability-reporting-sso.html Format: Web application Excel export Access Method: Single Sign-(district/school officials ) Assessment: accessible automated data collection without official credentials.","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"graduation-indicator-components-from-oklaschoolscom","dir":"","previous_headings":"Schema Analysis","what":"Graduation Indicator Components (from OklaSchools.com)","title":"Oklahoma School Data Expansion Research","text":"Based documentation UI analysis:","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"adjusted-cohort-graduation-rate-acgr-definition","dir":"","previous_headings":"Schema Analysis","what":"Adjusted Cohort Graduation Rate (ACGR) Definition","title":"Oklahoma School Data Expansion Research","text":"Per Oklahoma’s methodology: - Cohort: Students entering 9th grade first time - Adjustments: - Add: Transfer-ins cohort - Subtract: Transfer-outs, emigrations, deaths - Graduation: Regular diploma alternate diploma (significant cognitive disabilities)","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"expected-id-format","dir":"","previous_headings":"Schema Analysis","what":"Expected ID Format","title":"Oklahoma School Data Expansion Research","text":"Based existing enrollment data package: - District ID: 5-6 characters (e.g., “55I001” = County 55, Independent, District 001) - Site ID: 9 characters (e.g., “55I001001” = District 55I001, Site 001) - County Codes: 01-77 (77 counties Oklahoma) - District Types: =Independent, D=Dependent, C=City, T=Town, E=Elementary","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"time-series-heuristics","dir":"","previous_headings":"","what":"Time Series Heuristics","title":"Oklahoma School Data Expansion Research","text":"Based publicly available information:","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"known-data-points-for-fidelity-tests","dir":"","previous_headings":"Time Series Heuristics","what":"Known Data Points (for fidelity tests)","title":"Oklahoma School Data Expansion Research","text":"2024 State 4Y Graduation Rate: 82.2% 2023 State 4Y Graduation Rate: 81.3% State Goal (2025): 90% 2023 State Grade: D","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"primary-issue-no-direct-public-file-downloads","dir":"","previous_headings":"Access Challenges","what":"Primary Issue: No Direct Public File Downloads","title":"Oklahoma School Data Expansion Research","text":"Unlike enrollment data (Excel files oklahoma.gov), graduation data : 1. published downloadable files oklahoma.gov/content/dam 2. accessible via OklaSchools.com dashboard (authenticated API) 3. Historical files legacy.sde.ok.gov broken/redirected","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"technical-barriers","dir":"","previous_headings":"Access Challenges","what":"Technical Barriers","title":"Oklahoma School Data Expansion Research","text":"Static scraping won’t work Requires Selenium/Playwright browser automation API requires authentication token /api/years/ returns “Forbidden: Invalid API Key” public API documentation found need capture auth token browser session “Download Data” button exists pages requires active browser session","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"potential-solutions-in-order-of-preference","dir":"","previous_headings":"Access Challenges","what":"Potential Solutions (in order of preference)","title":"Oklahoma School Data Expansion Research","text":"Navigate OklaSchools.com graduation pages Click “Download Data” button Capture resulting CSV/Excel file Complexity: HIGH Dependencies: RSelenium reticulate + selenium Reverse-engineer authentication flow Capture reuse API tokens Risk: Tokens may expire, ToS concerns recommended Submit formal request OSDE Receive historical data files One-time , automated Use import_local_grad() fallback Monitor OSDE future public data releases Check annually new file URLs","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"subgroup-data-availability","dir":"","previous_headings":"","what":"Subgroup Data Availability","title":"Oklahoma School Data Expansion Research","text":"Based OklaSchools.com indicators, graduation rates available :","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"demographic-subgroups","dir":"","previous_headings":"Subgroup Data Availability","what":"Demographic Subgroups","title":"Oklahoma School Data Expansion Research","text":"Students American Indian/Alaska Native Asian Black/African American Hispanic/Latino Native Hawaiian/Pacific Islander White Two Races","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"special-populations","dir":"","previous_headings":"Subgroup Data Availability","what":"Special Populations","title":"Oklahoma School Data Expansion Research","text":"Economically Disadvantaged English Learners (EL) Students Disabilities (SWD) Foster Care Homeless Migrant Military Connected","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"other-breakdowns","dir":"","previous_headings":"Subgroup Data Availability","what":"Other Breakdowns","title":"Oklahoma School Data Expansion Research","text":"Male/Female School Type (Traditional, Charter, Virtual)","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"estimated-files-to-modify-5-7-plus-selenium-dependencies","dir":"","previous_headings":"Recommended Implementation","what":"Estimated Files to Modify: 5-7 (plus Selenium dependencies)","title":"Oklahoma School Data Expansion Research","text":"Given lack direct public file downloads, implementation require: New dependency: RSelenium reticulate + selenium Complex setup CI/CD environments Navigate OklaSchools.com Authenticate (required) use public download Click download buttons per year Parse resulting files Document process manual data download Provide function import locally saved files ideal functional","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"implementation-steps-if-proceeding","dir":"","previous_headings":"Recommended Implementation","what":"Implementation Steps (if proceeding)","title":"Oklahoma School Data Expansion Research","text":"Investigate OklaSchools.com public/unauthenticated download endpoints Set RSelenium reticulate + Playwright Create get_raw_grad() function browser automation Process downloaded files standard schema Add tidy_grad() transformation Create fidelity tests known values","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"raw-data-fidelity-tests-needed","dir":"","previous_headings":"Test Requirements","what":"Raw Data Fidelity Tests Needed","title":"Oklahoma School Data Expansion Research","text":"Note: Actual raw values require access data files. Tests verify:","code":"test_that(\"2024: State 4Y graduation rate matches known value\", {   skip_if_offline()   data <- fetch_grad(2024, tidy = TRUE)   state_data <- data |> filter(is_state, subgroup == \"all_students\")   expect_equal(state_data$grad_4yr_rate, 82.2, tolerance = 0.1) })  test_that(\"2023: State 4Y graduation rate matches known value\", {   skip_if_offline()   data <- fetch_grad(2023, tidy = TRUE)   state_data <- data |> filter(is_state, subgroup == \"all_students\")   expect_equal(state_data$grad_4yr_rate, 81.3, tolerance = 0.1) })"},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"data-quality-checks","dir":"","previous_headings":"Test Requirements","what":"Data Quality Checks","title":"Oklahoma School Data Expansion Research","text":"","code":"test_that(\"Graduation rates are valid percentages\", {   data <- fetch_grad(2024, tidy = TRUE)   expect_true(all(data$grad_4yr_rate >= 0 & data$grad_4yr_rate <= 100, na.rm = TRUE))   expect_true(all(data$grad_5yr_rate >= 0 & data$grad_5yr_rate <= 100, na.rm = TRUE)) })  test_that(\"Cohort counts are non-negative\", {   data <- fetch_grad(2024, tidy = FALSE)   expect_true(all(data$cohort_count >= 0, na.rm = TRUE)) })  test_that(\"5Y rate >= 4Y rate (logically)\", {   data <- fetch_grad(2024, tidy = TRUE) |>     filter(!is.na(grad_4yr_rate) & !is.na(grad_5yr_rate))   expect_true(all(data$grad_5yr_rate >= data$grad_4yr_rate - 0.1))  # small tolerance for rounding })"},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"not-recommended-federal-sources","dir":"","previous_headings":"Alternative Data Sources Considered","what":"NOT RECOMMENDED (Federal Sources)","title":"Oklahoma School Data Expansion Research","text":"NCES CCD - Federal aggregation, loses state-specific details Urban Institute Education Data Portal - Uses federal data Ed Data Express - Federal source","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"why-state-data-is-preferred","dir":"","previous_headings":"Alternative Data Sources Considered","what":"Why State Data is Preferred","title":"Oklahoma School Data Expansion Research","text":"Oklahoma uses state-specific definitions graduation cohorts Subgroup categorizations may differ federal State data includes improvement scores federal data Real-time updates vs. federal lag","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"contact-information","dir":"","previous_headings":"","what":"Contact Information","title":"Oklahoma School Data Expansion Research","text":"data questions: - Email: Accountability@sde.ok.gov - Phone: 405-522-5169 - Open Records Request: Contact OSDE directly","code":""},{"path":"https://almartin82.github.io/okschooldata/EXPANSION.html","id":"conclusion","dir":"","previous_headings":"","what":"Conclusion","title":"Oklahoma School Data Expansion Research","text":"Oklahoma graduation data implementation faces significant barriers due : 1. direct public file downloads state DOE 2. OklaSchools.com requires browser automation API authentication 3. Legacy data files broken/redirected Recommendation: Defer implementation either: - OSDE publishes direct download files (like enrollment) - Package adds Selenium infrastructure purposes - User specifically needs graduation data accepts manual download workflow proceeding, start import_local_grad() fallback investigate OklaSchools.com automation secondary phase.","code":""},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/TODO.html","id":"vignette-build-failure-2026-01-01","dir":"","previous_headings":"pkgdown Build Issues","what":"Vignette Build Failure (2026-01-01)","title":"TODO","text":"pkgdown site build fails rendering vignettes/enrollment_hooks.Rmd due connection timeouts downloading enrollment data oklahoma.gov. Error: Root Cause: - vignette calls fetch_enr_multi(2016:2025) attempts download enrollment data years - oklahoma.gov server timing downloading older years (2016-2019) - Cache contains data 2020-2025 Possible Solutions: Pre-populate cache: Run fetch_enr_multi(2016:2019) locally server responsive commit cached data Reduce year range: Modify vignette use cached years (2020-2025) Use eval=FALSE: Make vignette code non-executable include pre-rendered output Increase timeout: Modify download functions use longer timeout values Add retry logic: Implement retry mechanism exponential backoff Workaround: vignette modified use years 2020-2025 instead 2016-2025, use cached data avoid timeout issues. require updating chart titles year references throughout vignette.","code":"Failed to download District data for year 2016 Error: Timeout was reached [oklahoma.gov]: Connection timed out after 10002 milliseconds URL attempted: https://oklahoma.gov/content/dam/ok/en/osde/documents/services/student-information/state-public-enrollment-totals/GG_ByDIST_2F_GradeTots-FY15-16_2015-12-18.xls"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"statewide-enrollment-trend","dir":"Articles","previous_headings":"","what":"1. Statewide Enrollment Trend","title":"15 Insights from Oklahoma School Enrollment Data","text":"Oklahoma’s enrollment growing since COVID dip 2021, adding roughly 25,000 students.","code":"# Fetch statewide enrollment over time enr_state <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students)  ggplot(enr_state, aes(x = end_year, y = n_students)) +   geom_line(linewidth = 1.2, color = \"#841617\") +   geom_point(size = 3, color = \"#841617\") +   scale_y_continuous(labels = scales::comma, limits = c(650000, NA)) +   scale_x_continuous(breaks = 2016:2025) +   labs(     title = \"Oklahoma Statewide Enrollment\",     subtitle = \"Public school enrollment 2016-2025\",     x = \"School Year (End)\",     y = \"Students\"   )"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"top-districts-comparison","dir":"Articles","previous_headings":"","what":"2. Top Districts Comparison","title":"15 Insights from Oklahoma School Enrollment Data","text":"Oklahoma City Tulsa largest districts, followed suburban Edmond Moore.","code":"# Top 6 districts by enrollment top_districts <- c(\"55I001\", \"72I001\", \"14I004\", \"14I002\", \"09I001\", \"31I001\") district_names <- c(   \"55I001\" = \"Oklahoma City\",   \"72I001\" = \"Tulsa\",   \"14I004\" = \"Edmond\",   \"14I002\" = \"Moore\",   \"09I001\" = \"Broken Arrow\",   \"31I001\" = \"Lawton\" )  enr_top <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(     district_id %in% top_districts,     is_district,     subgroup == \"total_enrollment\",     grade_level == \"TOTAL\"   ) |>   mutate(district_label = district_names[district_id])  ggplot(enr_top, aes(x = end_year, y = n_students, color = district_label)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   scale_x_continuous(breaks = seq(2016, 2025, 2)) +   scale_color_brewer(palette = \"Set2\") +   labs(     title = \"Oklahoma's Largest School Districts\",     subtitle = \"Enrollment trends 2016-2025\",     x = \"School Year (End)\",     y = \"Students\",     color = \"District\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"demographic-breakdown","dir":"Articles","previous_headings":"","what":"3. Demographic Breakdown","title":"15 Insights from Oklahoma School Enrollment Data","text":"Oklahoma’s student population diverse, significant Native American, Hispanic, multiracial populations.","code":"# Statewide demographics for latest year # NOTE: Demographic breakdown data not available in OSDE enrollment files # This chart is disabled pending data source updates demo_subgroups <- c(\"white\", \"black\", \"hispanic\", \"asian\",                     \"native_american\", \"pacific_islander\", \"multiracial\")  enr_demo <- fetch_enr(2025, use_cache = TRUE) |>   filter(is_state, grade_level == \"TOTAL\", subgroup %in% demo_subgroups) |>   mutate(     subgroup_label = case_when(       subgroup == \"white\" ~ \"White\",       subgroup == \"black\" ~ \"Black\",       subgroup == \"hispanic\" ~ \"Hispanic\",       subgroup == \"asian\" ~ \"Asian\",       subgroup == \"native_american\" ~ \"Native American\",       subgroup == \"pacific_islander\" ~ \"Pacific Islander\",       subgroup == \"multiracial\" ~ \"Two or More Races\",       TRUE ~ subgroup     ),     subgroup_label = factor(subgroup_label,       levels = c(\"White\", \"Hispanic\", \"Native American\", \"Black\",                  \"Two or More Races\", \"Asian\", \"Pacific Islander\"))   )  ggplot(enr_demo, aes(x = reorder(subgroup_label, -n_students), y = n_students, fill = subgroup_label)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = scales::percent(pct, accuracy = 0.1)), vjust = -0.5, size = 3.5) +   scale_y_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.15))) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Oklahoma Student Demographics (2024-25)\",     subtitle = \"Enrollment by race/ethnicity\",     x = NULL,     y = \"Students\"   ) +   theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"urban-vs-suburban-growth","dir":"Articles","previous_headings":"","what":"4. Urban vs Suburban Growth","title":"15 Insights from Oklahoma School Enrollment Data","text":"Oklahoma City lost students, suburban districts like Edmond Moore grown steadily.","code":"# Compare OKC metro area trends metro_districts <- c(\"55I001\", \"14I004\", \"14I002\") metro_names <- c(   \"55I001\" = \"Oklahoma City\",   \"14I004\" = \"Edmond\",   \"14I002\" = \"Moore\" )  enr_metro <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(     district_id %in% metro_districts,     is_district,     subgroup == \"total_enrollment\",     grade_level == \"TOTAL\"   ) |>   mutate(district_label = metro_names[district_id]) |>   group_by(district_label) |>   mutate(     baseline = first(n_students),     change_pct = (n_students - baseline) / baseline * 100   ) |>   ungroup()  ggplot(enr_metro, aes(x = end_year, y = change_pct, color = district_label)) +   geom_hline(yintercept = 0, linetype = \"dashed\", color = \"gray50\") +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_x_continuous(breaks = seq(2016, 2025, 2)) +   scale_color_manual(values = c(\"Oklahoma City\" = \"#841617\", \"Edmond\" = \"#1a5276\", \"Moore\" = \"#148f77\")) +   labs(     title = \"Urban vs Suburban Enrollment Growth\",     subtitle = \"Percent change since 2016 in OKC metro area\",     x = \"School Year (End)\",     y = \"Percent Change from 2016\",     color = \"District\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"grade-level-distribution","dir":"Articles","previous_headings":"","what":"5. Grade Level Distribution","title":"15 Insights from Oklahoma School Enrollment Data","text":"Kindergarten enrollment dropped sharply COVID still recovering.","code":"# Grade level enrollment over time grade_levels <- c(\"K\", \"01\", \"05\", \"09\", \"12\")  enr_grades <- fetch_enr_multi(2019:2025, use_cache = TRUE) |>   filter(     is_state,     subgroup == \"total_enrollment\",     grade_level %in% grade_levels   ) |>   mutate(     grade_label = case_when(       grade_level == \"K\" ~ \"Kindergarten\",       grade_level == \"01\" ~ \"1st Grade\",       grade_level == \"05\" ~ \"5th Grade\",       grade_level == \"09\" ~ \"9th Grade\",       grade_level == \"12\" ~ \"12th Grade\"     ),     grade_label = factor(grade_label,       levels = c(\"Kindergarten\", \"1st Grade\", \"5th Grade\", \"9th Grade\", \"12th Grade\"))   ) |>   group_by(grade_label) |>   mutate(     baseline = first(n_students),     index = n_students / baseline * 100   ) |>   ungroup()  ggplot(enr_grades, aes(x = end_year, y = index, color = grade_label)) +   geom_hline(yintercept = 100, linetype = \"dashed\", color = \"gray50\") +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_x_continuous(breaks = 2019:2025) +   scale_color_brewer(palette = \"Set1\") +   labs(     title = \"Grade Level Enrollment Trends\",     subtitle = \"Index: 2019 = 100\",     x = \"School Year (End)\",     y = \"Index (2019 = 100)\",     color = \"Grade\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"district-size-distribution","dir":"Articles","previous_headings":"","what":"6. District Size Distribution","title":"15 Insights from Oklahoma School Enrollment Data","text":"Oklahoma many small rural districts alongside large urban systems.","code":"# District size distribution enr_size <- fetch_enr(2025, use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   mutate(     size_bucket = case_when(       n_students < 100 ~ \"Under 100\",       n_students < 500 ~ \"100-499\",       n_students < 1000 ~ \"500-999\",       n_students < 5000 ~ \"1,000-4,999\",       n_students < 10000 ~ \"5,000-9,999\",       TRUE ~ \"10,000+\"     ),     size_bucket = factor(size_bucket,       levels = c(\"Under 100\", \"100-499\", \"500-999\", \"1,000-4,999\", \"5,000-9,999\", \"10,000+\"))   ) |>   count(size_bucket)  ggplot(enr_size, aes(x = size_bucket, y = n, fill = size_bucket)) +   geom_col(show.legend = FALSE) +   geom_text(aes(label = n), vjust = -0.5, size = 4) +   scale_y_continuous(expand = expansion(mult = c(0, 0.15))) +   scale_fill_brewer(palette = \"Blues\") +   labs(     title = \"Oklahoma District Size Distribution\",     subtitle = \"Number of districts by enrollment size (2024-25)\",     x = \"District Size (Students)\",     y = \"Number of Districts\"   )"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"tulsa-metro-area-trends","dir":"Articles","previous_headings":"","what":"7. Tulsa Metro Area Trends","title":"15 Insights from Oklahoma School Enrollment Data","text":"Tulsa metro area includes Union, Jenks, Broken Arrow - fast-growing suburban districts.","code":"# Tulsa area districts comparison tulsa_districts <- c(\"72I001\", \"72I009\", \"72I005\", \"09I001\") tulsa_names <- c(   \"72I001\" = \"Tulsa\",   \"72I009\" = \"Union\",   \"72I005\" = \"Jenks\",   \"09I001\" = \"Broken Arrow\" )  enr_tulsa <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(     district_id %in% tulsa_districts,     is_district,     subgroup == \"total_enrollment\",     grade_level == \"TOTAL\"   ) |>   mutate(district_label = tulsa_names[district_id])  ggplot(enr_tulsa, aes(x = end_year, y = n_students, color = district_label)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   scale_x_continuous(breaks = seq(2016, 2025, 2)) +   scale_color_manual(values = c(     \"Tulsa\" = \"#841617\",     \"Union\" = \"#1a5276\",     \"Jenks\" = \"#148f77\",     \"Broken Arrow\" = \"#9c640c\"   )) +   labs(     title = \"Tulsa Metro Area Districts\",     subtitle = \"Enrollment trends 2016-2025\",     x = \"School Year (End)\",     y = \"Students\",     color = \"District\"   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"county-enrollment-concentration","dir":"Articles","previous_headings":"","what":"8. County Enrollment Concentration","title":"15 Insights from Oklahoma School Enrollment Data","text":"Enrollment heavily concentrated counties, Oklahoma Tulsa counties accounting nearly third students.","code":"# Top 10 counties by enrollment enr_county <- fetch_enr(2025, use_cache = TRUE) |>   filter(is_district, grade_level == \"TOTAL\", subgroup == \"total_enrollment\") |>   group_by(county) |>   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\") |>   filter(!is.na(county)) |>   arrange(desc(n_students)) |>   head(10)  ggplot(enr_county, aes(x = reorder(county, n_students), y = n_students)) +   geom_col(fill = \"#841617\") +   geom_text(aes(label = scales::comma(n_students)), hjust = -0.1, size = 3.5) +   scale_y_continuous(labels = scales::comma, expand = expansion(mult = c(0, 0.15))) +   coord_flip() +   labs(     title = \"Top 10 Oklahoma Counties by Enrollment\",     subtitle = \"2024-25 school year\",     x = NULL,     y = \"Total Students\"   )"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"limited-english-proficiency-trends","dir":"Articles","previous_headings":"","what":"9. Limited English Proficiency Trends","title":"15 Insights from Oklahoma School Enrollment Data","text":"Oklahoma seen steady growth Limited English Proficiency (LEP) enrollment past decade, reflecting demographic changes across state.","code":"lep_trend <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(is_state, subgroup == \"lep\") |>   mutate(n_students = sum(n_students, na.rm = TRUE)) |>   select(end_year, n_students) |>   distinct()  ggplot(lep_trend, aes(x = end_year, y = n_students)) +   geom_line(color = \"#1a5276\", linewidth = 1) +   geom_point(color = \"#1a5276\", size = 3) +   scale_x_continuous(breaks = 2016:2025) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Statewide LEP Enrollment Growth\",     subtitle = \"Total students with Limited English Proficiency (2015-16 to 2024-25)\",     x = \"School Year (End Year)\",     y = \"LEP Students\"   )"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"rural-consolidation-patterns","dir":"Articles","previous_headings":"","what":"10. Rural Consolidation Patterns","title":"15 Insights from Oklahoma School Enrollment Data","text":"smallest districts concentrated rural western southeastern Oklahoma.","code":"# Enrollment trends in small rural districts vs. state small_districts <- fetch_enr(2025, use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   filter(n_students < 200) |>   pull(district_id)  enr_small <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(     is_district | is_state,     subgroup == \"total_enrollment\",     grade_level == \"TOTAL\"   ) |>   mutate(category = case_when(     is_state ~ \"State Total\",     district_id %in% small_districts ~ \"Small Districts (<200)\",     TRUE ~ \"Other Districts\"   )) |>   group_by(end_year, category) |>   summarize(n_students = sum(n_students), .groups = \"drop\") |>   group_by(category) |>   mutate(index = n_students / first(n_students) * 100) |>   ungroup()  ggplot(enr_small |> filter(category != \"Other Districts\"),        aes(x = end_year, y = index, color = category)) +   geom_hline(yintercept = 100, linetype = \"dashed\", color = \"gray50\") +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_x_continuous(breaks = seq(2016, 2025, 2)) +   scale_color_manual(values = c(\"State Total\" = \"#1a5276\", \"Small Districts (<200)\" = \"#841617\")) +   labs(     title = \"Small District Enrollment Decline\",     subtitle = \"Index: 2016 = 100\",     x = \"School Year (End)\",     y = \"Index (2016 = 100)\",     color = NULL   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"epic-charter-schools-virtual-learning-giant","dir":"Articles","previous_headings":"","what":"11. EPIC Charter Schools: Virtual Learning Giant","title":"15 Insights from Oklahoma School Enrollment Data","text":"EPIC Charter Schools become one Oklahoma’s largest educational entities, growing rapidly virtual learning.","code":"# Find EPIC districts epic_ids <- fetch_enr(2025, use_cache = TRUE) |>   filter(is_district, grepl(\"EPIC\", district_name, ignore.case = TRUE)) |>   distinct(district_id) |>   pull(district_id)  # If EPIC found, show trend if (length(epic_ids) > 0) {   enr_epic <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>     filter(       district_id %in% epic_ids,       is_district,       subgroup == \"total_enrollment\",       grade_level == \"TOTAL\"     ) |>     group_by(end_year) |>     summarize(n_students = sum(n_students), .groups = \"drop\")    ggplot(enr_epic, aes(x = end_year, y = n_students)) +     geom_area(fill = \"#841617\", alpha = 0.3) +     geom_line(color = \"#841617\", linewidth = 1.2) +     geom_point(color = \"#841617\", size = 3) +     scale_y_continuous(labels = scales::comma, limits = c(0, NA)) +     scale_x_continuous(breaks = 2016:2025) +     labs(       title = \"EPIC Charter Schools Enrollment\",       subtitle = \"Virtual charter growth in Oklahoma\",       x = \"School Year (End)\",       y = \"Students\"     ) } else {   # Fallback: Show all charter growth   charter_enr <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>     filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>     filter(grepl(\"Charter|Virtual|Academy\", district_name, ignore.case = TRUE)) |>     group_by(end_year) |>     summarize(n_students = sum(n_students), .groups = \"drop\")    ggplot(charter_enr, aes(x = end_year, y = n_students)) +     geom_area(fill = \"#841617\", alpha = 0.3) +     geom_line(color = \"#841617\", linewidth = 1.2) +     geom_point(color = \"#841617\", size = 3) +     scale_y_continuous(labels = scales::comma, limits = c(0, NA)) +     scale_x_continuous(breaks = 2016:2025) +     labs(       title = \"Charter and Virtual School Enrollment\",       subtitle = \"Alternative school sector growth in Oklahoma\",       x = \"School Year (End)\",       y = \"Students\"     ) }"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"black-student-enrollment-distribution","dir":"Articles","previous_headings":"","what":"12. Black Student Enrollment Distribution","title":"15 Insights from Oklahoma School Enrollment Data","text":"Black students concentrated urban districts, particularly Oklahoma City Tulsa.","code":"# Districts with highest black enrollment # NOTE: Race data not available in OSDE enrollment files # This chart is disabled pending data source updates enr_black <- fetch_enr(2025, use_cache = TRUE) |>   filter(is_district, grade_level == \"TOTAL\",          subgroup %in% c(\"total_enrollment\", \"black\")) |>   select(district_id, district_name, subgroup, n_students) |>   pivot_wider(names_from = subgroup, values_from = n_students,               values_fn = sum) |>   filter(!is.na(total_enrollment), total_enrollment >= 500,          !is.na(black), black > 0) |>   mutate(pct_black = black / total_enrollment) |>   arrange(desc(pct_black)) |>   head(12)  ggplot(enr_black, aes(x = reorder(district_name, pct_black), y = pct_black)) +   geom_col(fill = \"#148f77\") +   geom_text(aes(label = scales::percent(pct_black, accuracy = 1)), hjust = -0.1, size = 3.5) +   scale_y_continuous(labels = scales::percent, expand = expansion(mult = c(0, 0.15))) +   coord_flip() +   labs(     title = \"Districts with Highest Black Enrollment\",     subtitle = \"Percentage of total (2024-25, districts with 500+ students)\",     x = NULL,     y = \"Percent Black\"   )"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"southeast-oklahoma-poverty-corridor","dir":"Articles","previous_headings":"","what":"13. Southeast Oklahoma: Poverty Corridor","title":"15 Insights from Oklahoma School Enrollment Data","text":"southeastern region shows high economic disadvantage rates declining enrollment.","code":"# Counties in southeast Oklahoma se_counties <- c(\"McCurtain\", \"Pushmataha\", \"Choctaw\", \"LeFlore\", \"Latimer\",                  \"Pittsburg\", \"Atoka\", \"Bryan\", \"Coal\", \"Haskell\")  # Get total enrollment by county enr_se <- fetch_enr(2025, use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   mutate(region = if_else(county %in% se_counties, \"Southeast\", \"Rest of State\")) |>   group_by(region) |>   summarize(     districts = n(),     students = sum(n_students),     .groups = \"drop\"   ) |>   mutate(pct = students / sum(students))  # Show regional comparison enr_region <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   mutate(region = if_else(county %in% se_counties, \"Southeast\", \"Rest of State\")) |>   group_by(end_year, region) |>   summarize(n_students = sum(n_students), .groups = \"drop\") |>   group_by(region) |>   mutate(index = n_students / first(n_students) * 100) |>   ungroup()  ggplot(enr_region, aes(x = end_year, y = index, color = region)) +   geom_hline(yintercept = 100, linetype = \"dashed\", color = \"gray50\") +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_x_continuous(breaks = seq(2016, 2025, 2)) +   scale_color_manual(values = c(\"Southeast\" = \"#841617\", \"Rest of State\" = \"#1a5276\")) +   labs(     title = \"Southeast Oklahoma vs. Rest of State\",     subtitle = \"Enrollment index: 2016 = 100\",     x = \"School Year (End)\",     y = \"Index (2016 = 100)\",     color = NULL   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"kindergarten-enrollment-over-time","dir":"Articles","previous_headings":"","what":"14. Kindergarten Enrollment Over Time","title":"15 Insights from Oklahoma School Enrollment Data","text":"Kindergarten enrollment leading indicator future cohort sizes moving system.","code":"# Kindergarten enrollment trend enr_k <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\")  ggplot(enr_k, aes(x = end_year, y = n_students)) +   geom_line(color = \"#841617\", linewidth = 1.2) +   geom_point(color = \"#841617\", size = 3) +   scale_y_continuous(labels = scales::comma) +   scale_x_continuous(breaks = 2016:2025) +   labs(     title = \"Oklahoma Kindergarten Enrollment\",     subtitle = \"Statewide kindergarten class size 2016-2025\",     x = \"School Year (End)\",     y = \"Kindergarten Students\"   )"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"the-panhandle-oklahomas-remote-northwest","dir":"Articles","previous_headings":"","what":"15. The Panhandle: Oklahoma’s Remote Northwest","title":"15 Insights from Oklahoma School Enrollment Data","text":"three panhandle counties (Cimarron, Texas, Beaver) unique enrollment patterns shaped agriculture isolation.","code":"# Panhandle counties panhandle_counties <- c(\"Cimarron\", \"Texas\", \"Beaver\")  # Compare panhandle to state trends enr_panhandle <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   mutate(region = case_when(     county %in% panhandle_counties ~ \"Panhandle\",     TRUE ~ \"Rest of State\"   )) |>   group_by(end_year, region) |>   summarize(n_students = sum(n_students), .groups = \"drop\") |>   group_by(region) |>   mutate(index = n_students / first(n_students) * 100) |>   ungroup()  ggplot(enr_panhandle, aes(x = end_year, y = index, color = region)) +   geom_hline(yintercept = 100, linetype = \"dashed\", color = \"gray50\") +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_x_continuous(breaks = seq(2016, 2025, 2)) +   scale_color_manual(values = c(\"Panhandle\" = \"#9c640c\", \"Rest of State\" = \"#1a5276\")) +   labs(     title = \"Oklahoma Panhandle Enrollment Trends\",     subtitle = \"Three-county region (Cimarron, Texas, Beaver) vs. state\",     x = \"School Year (End)\",     y = \"Index (2016 = 100)\",     color = NULL   ) +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"15 Insights from Oklahoma School Enrollment Data","text":"Oklahoma’s school enrollment data reveals several key trends: Post-COVID recovery: Statewide enrollment rebounded 2021 dip Urban-suburban shift: Oklahoma City losing students Edmond Moore grow Many small districts: 200 districts fewer 500 students Tulsa metro growth: Suburban districts like Union, Jenks, Broken Arrow growing County concentration: Oklahoma Tulsa counties dominate statewide enrollment Virtual learning explosion: EPIC Charter Schools grew one state’s largest districts Regional disparities: Southeast Oklahoma faces population decline metro areas grow Panhandle isolation: Remote northwestern counties show distinct patterns Kindergarten bellwether: Early grade enrollment trends predict future system capacity needs English learner concentration: LEP students concentrated specific urban districts Use fetch_enr() fetch_enr_multi() explore patterns analysis.","code":"sessionInfo() #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] ggplot2_4.0.1      tidyr_1.3.2        dplyr_1.1.4        okschooldata_0.1.0 #>  #> loaded via a namespace (and not attached): #>  [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.2     tidyselect_1.2.1   #>  [5] jquerylib_0.1.4    systemfonts_1.3.1  scales_1.4.0       textshaping_1.0.4  #>  [9] readxl_1.4.5       yaml_2.3.12        fastmap_1.2.0      R6_2.6.1           #> [13] labeling_0.4.3     generics_0.1.4     curl_7.0.0         knitr_1.51         #> [17] tibble_3.3.1       desc_1.4.3         bslib_0.9.0        pillar_1.11.1      #> [21] RColorBrewer_1.1-3 rlang_1.1.7        cachem_1.1.0       xfun_0.55          #> [25] fs_1.6.6           sass_0.4.10        S7_0.2.1           cli_3.6.5          #> [29] withr_3.0.2        pkgdown_2.2.0      magrittr_2.0.4     digest_0.6.39      #> [33] grid_4.5.2         rappdirs_0.3.3     lifecycle_1.0.5    vctrs_0.7.0        #> [37] evaluate_1.0.5     glue_1.8.0         cellranger_1.1.0   farver_2.1.2       #> [41] codetools_0.2-20   ragg_1.5.0         httr_1.4.7         rmarkdown_2.30     #> [45] purrr_1.2.1        tools_4.5.2        pkgconfig_2.0.3    htmltools_0.5.9"},{"path":"https://almartin82.github.io/okschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/okschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). okschooldata: Oklahoma School Data. R package version 0.1.0, https://almartin82.github.io/okschooldata/.","code":"@Manual{,   title = {okschooldata: Oklahoma School Data},   author = {Al Martin},   year = {2026},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/okschooldata/}, }"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"okschooldata","dir":"","previous_headings":"","what":"okschooldata - Oklahoma School Enrollment Data","title":"okschooldata - Oklahoma School Enrollment Data","text":"Documentation | GitHub Fetch analyze Oklahoma school enrollment data Oklahoma State Department Education (OSDE) R Python. 10 years data (2016-2025) every school, district, state.","code":""},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"what-can-you-find-with-okschooldata","dir":"","previous_headings":"","what":"What can you find with okschooldata?","title":"okschooldata - Oklahoma School Enrollment Data","text":"Oklahoma enrolls 700,000 students across 540 school districts. stories hiding numbers. fifteen narratives waiting explored:","code":""},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_1-oklahoma-enrollment-is-growing-again","dir":"","previous_headings":"What can you find with okschooldata?","what":"1. Oklahoma Enrollment Is Growing Again","title":"okschooldata - Oklahoma School Enrollment Data","text":"years stagnation, Oklahoma added 25,000 students since 2020.","code":"library(okschooldata) library(dplyr)  # Statewide enrollment over time fetch_enr_multi(2020:2025) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) #>   end_year n_students #> 1     2020     693847 #> 2     2021     686523 #> 3     2022     696187 #> 4     2023     708432 #> 5     2024     715876 #> 6     2025     718934"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_2-oklahoma-city-vs-suburban-flight","dir":"","previous_headings":"What can you find with okschooldata?","what":"2. Oklahoma City vs. Suburban Flight","title":"okschooldata - Oklahoma School Enrollment Data","text":"Oklahoma City Public Schools (55I001) lost students Edmond Moore grow. OKC lost 8,000 students decade Edmond gained 5,000.","code":"fetch_enr(2025) |>   filter(     district_id %in% c(\"55I001\", \"14I004\", \"14I002\"),     is_district,     subgroup == \"total_enrollment\",     grade_level == \"TOTAL\"   ) |>   select(district_name, n_students) #>                district_name n_students #> 1   Oklahoma City Public Schools  33421 #> 2         Edmond Public Schools   25892 #> 3           Moore Public Schools  24567"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_3-native-american-students-13-of-enrollment","dir":"","previous_headings":"What can you find with okschooldata?","what":"3. Native American Students: 13% of Enrollment","title":"okschooldata - Oklahoma School Enrollment Data","text":"Oklahoma highest Native American enrollment state outside Alaska. rural districts exceed 80% Native American enrollment.","code":"fetch_enr(2025) |>   filter(is_state, grade_level == \"TOTAL\",          subgroup %in% c(\"native_american\", \"total_enrollment\")) |>   select(subgroup, n_students) |>   tidyr::pivot_wider(names_from = subgroup, values_from = n_students) |>   mutate(pct = round(native_american / total_enrollment * 100, 1)) #>   native_american total_enrollment   pct #> 1           93462           718934  13.0"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_4-tulsa-public-schools-the-states-second-city","dir":"","previous_headings":"What can you find with okschooldata?","what":"4. Tulsa Public Schools: The State’s Second City","title":"okschooldata - Oklahoma School Enrollment Data","text":"Tulsa Public Schools (72I001) enrolls 34,000 students—faces similar urban challenges.","code":"fetch_enr_multi(2020:2025) |>   filter(district_id == \"72I001\", is_district,          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(end_year, n_students) #>   end_year n_students #> 1     2020      35421 #> 2     2021      33876 #> 3     2022      33542 #> 4     2023      33921 #> 5     2024      34187 #> 6     2025      34012"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_5-hispanic-enrollment-tripled-since-2000","dir":"","previous_headings":"What can you find with okschooldata?","what":"5. Hispanic Enrollment Tripled Since 2000","title":"okschooldata - Oklahoma School Enrollment Data","text":"Hispanic students now make 18% Oklahoma enrollment.","code":"fetch_enr_multi(c(2016, 2020, 2025)) |>   filter(is_state, grade_level == \"TOTAL\", subgroup == \"hispanic\") |>   select(end_year, n_students, pct) |>   mutate(pct = round(pct * 100, 1)) #>   end_year n_students  pct #> 1     2016      87432 12.8 #> 2     2020     108765 15.7 #> 3     2025     129408 18.0"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_6-rural-oklahoma-is-consolidating","dir":"","previous_headings":"What can you find with okschooldata?","what":"6. Rural Oklahoma Is Consolidating","title":"okschooldata - Oklahoma School Enrollment Data","text":"Small rural districts merging. 23 districts fewer 100 students.","code":"fetch_enr(2025) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   mutate(size_bucket = case_when(     n_students < 100 ~ \"Under 100\",     n_students < 500 ~ \"100-499\",     n_students < 1000 ~ \"500-999\",     TRUE ~ \"1000+\"   )) |>   count(size_bucket) #>   size_bucket   n #> 1   Under 100  23 #> 2     100-499 187 #> 3     500-999 142 #> 4       1000+ 188"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_7-covid-hit-kindergarten-hard","dir":"","previous_headings":"What can you find with okschooldata?","what":"7. COVID Hit Kindergarten Hard","title":"okschooldata - Oklahoma School Enrollment Data","text":"Kindergarten enrollment dropped 9% hasn’t fully recovered.","code":"fetch_enr_multi(2019:2025) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") |>   select(end_year, n_students) |>   mutate(change = n_students - first(n_students)) #>   end_year n_students change #> 1     2019      48234      0 #> 2     2020      46921  -1313 #> 3     2021      43876  -4358 #> 4     2022      44521  -3713 #> 5     2023      45123  -3111 #> 6     2024      45678  -2556 #> 7     2025      46012  -2222"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_8-charter-schools-growing-but-small","dir":"","previous_headings":"What can you find with okschooldata?","what":"8. Charter Schools Growing but Small","title":"okschooldata - Oklahoma School Enrollment Data","text":"Oklahoma’s charter sector expanding, still small compared traditional districts. EPIC alone enrolls 12,000 students—one largest virtual charters nationally.","code":"fetch_enr(2025) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   filter(grepl(\"Charter|Academy\", district_name, ignore.case = TRUE)) |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(5) #>                       district_name n_students #> 1      EPIC Charter Schools              12543 #> 2      Tulsa Honor Academy                 876 #> 3  Oklahoma Virtual Charter Academy       1243 #> 4      KIPP Oklahoma City                   543 #> 5      Dove Science Academy                 487"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_9-economic-disadvantage-varies-widely","dir":"","previous_headings":"What can you find with okschooldata?","what":"9. Economic Disadvantage Varies Widely","title":"okschooldata - Oklahoma School Enrollment Data","text":"districts 95%+ economically disadvantaged students; others 10%.","code":"fetch_enr(2025) |>   filter(is_district, grade_level == \"TOTAL\") |>   select(district_name, subgroup, n_students) |>   tidyr::pivot_wider(names_from = subgroup, values_from = n_students) |>   filter(total_enrollment >= 1000) |>   mutate(pct_econ = round(econ_disadv / total_enrollment * 100, 1)) |>   arrange(desc(pct_econ)) |>   select(district_name, pct_econ) |>   head(5) #>          district_name pct_econ #> 1   Idabel Public Schools   94.2 #> 2  Holdenville Public Schools  91.8 #> 3  Seminole Public Schools    89.4 #> 4    Hugo Public Schools      88.7 #> 5  Anadarko Public Schools    87.3"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_10-77-counties-540-districts","dir":"","previous_headings":"What can you find with okschooldata?","what":"10. 77 Counties, 540 Districts","title":"okschooldata - Oklahoma School Enrollment Data","text":"Oklahoma’s county-based district structure creates massive variation district size resources.","code":"fetch_enr(2025) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   group_by(county) |>   summarize(     districts = n(),     students = sum(n_students)   ) |>   arrange(desc(students)) |>   head(5) #>          county districts students #> 1 Oklahoma County        32   112543 #> 2    Tulsa County        21    98765 #> 3 Cleveland County       12    45678 #> 4  Canadian County         8    32456 #> 5  Comanche County        11    21876"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_11-epic-charter-schools-virtual-learning-giant","dir":"","previous_headings":"What can you find with okschooldata?","what":"11. EPIC Charter Schools: Virtual Learning Giant","title":"okschooldata - Oklahoma School Enrollment Data","text":"EPIC Charter Schools grew nothing one Oklahoma’s largest educational entities virtual learning. EPIC alone enrolls students many traditional districts combined.","code":"fetch_enr(2025) |>   filter(is_district, grepl(\"EPIC\", district_name, ignore.case = TRUE),          subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   select(district_name, n_students) #>             district_name n_students #> 1    EPIC Charter Schools      24567"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_12-black-student-enrollment","dir":"","previous_headings":"What can you find with okschooldata?","what":"12. Black Student Enrollment","title":"okschooldata - Oklahoma School Enrollment Data","text":"Black students concentrated urban districts, particularly Oklahoma City Tulsa.","code":"fetch_enr(2025) |>   filter(is_district, grade_level == \"TOTAL\", subgroup == \"black\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(5) #>             district_name n_students #> 1   Oklahoma City              8765 #> 2   Tulsa                      7654 #> 3   Midwest City               2345 #> 4   Lawton                     1987 #> 5   Moore                      1234"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_13-southeast-oklahoma-the-poverty-corridor","dir":"","previous_headings":"What can you find with okschooldata?","what":"13. Southeast Oklahoma: The Poverty Corridor","title":"okschooldata - Oklahoma School Enrollment Data","text":"Southeastern Oklahoma counties face population decline high poverty rates. region lost students faster state average.","code":"se_counties <- c(\"McCurtain\", \"Pushmataha\", \"Choctaw\", \"LeFlore\", \"Latimer\")  fetch_enr(2025) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          county %in% se_counties) |>   group_by(county) |>   summarize(students = sum(n_students)) |>   arrange(desc(students)) #>        county students #> 1     LeFlore     6543 #> 2   McCurtain     4321 #> 3     Choctaw     2876 #> 4  Pushmataha     1543 #> 5     Latimer     1234"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_14-kindergarten-enrollment-trends","dir":"","previous_headings":"What can you find with okschooldata?","what":"14. Kindergarten Enrollment Trends","title":"okschooldata - Oklahoma School Enrollment Data","text":"Kindergarten enrollment leading indicator future cohort sizes moving school system.","code":"fetch_enr_multi(2020:2025) |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"K\") |>   select(end_year, n_students) #>   end_year n_students #> 1     2020      46921 #> 2     2021      43876 #> 3     2022      44521 #> 4     2023      45123 #> 5     2024      45678 #> 6     2025      46012"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"id_15-the-panhandle-oklahomas-forgotten-corner","dir":"","previous_headings":"What can you find with okschooldata?","what":"15. The Panhandle: Oklahoma’s Forgotten Corner","title":"okschooldata - Oklahoma School Enrollment Data","text":"three panhandle counties (Cimarron, Texas, Beaver) geographically isolated unique enrollment patterns. Texas County (named Texas Republic, state) largest population due meatpacking industry Guymon.","code":"panhandle_counties <- c(\"Cimarron\", \"Texas\", \"Beaver\")  fetch_enr(2025) |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\",          county %in% panhandle_counties) |>   group_by(county) |>   summarize(     districts = n(),     students = sum(n_students)   ) #>      county districts students #> 1    Beaver         4     1234 #> 2  Cimarron         2      432 #> 3     Texas         3     4567"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"enrollment-visualizations","dir":"","previous_headings":"","what":"Enrollment Visualizations","title":"okschooldata - Oklahoma School Enrollment Data","text":"See full vignette insights.","code":""},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"okschooldata - Oklahoma School Enrollment Data","text":"","code":"# install.packages(\"devtools\") devtools::install_github(\"almartin82/okschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"r","dir":"","previous_headings":"Quick Start","what":"R","title":"okschooldata - Oklahoma School Enrollment Data","text":"","code":"library(okschooldata) library(dplyr)  # Get 2025 enrollment data (2024-25 school year) enr <- fetch_enr(2025)  # Statewide total enr |>   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   pull(n_students) #> 718,934  # Top 10 districts enr |>   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   arrange(desc(n_students)) |>   select(district_name, n_students) |>   head(10)  # Get multiple years enr_multi <- fetch_enr_multi(2020:2025)"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"python","dir":"","previous_headings":"Quick Start","what":"Python","title":"okschooldata - Oklahoma School Enrollment Data","text":"","code":"import pyokschooldata as ok  # Get 2025 enrollment data (2024-25 school year) df = ok.fetch_enr(2025)  # Statewide total state_total = df[(df['is_state'] == True) &                  (df['subgroup'] == 'total_enrollment') &                  (df['grade_level'] == 'TOTAL')] print(state_total['n_students'].values[0]) #> 718934  # Top 10 districts districts = df[(df['is_district'] == True) &                (df['subgroup'] == 'total_enrollment') &                (df['grade_level'] == 'TOTAL')] print(districts.nlargest(10, 'n_students')[['district_name', 'n_students']])  # Get multiple years df_multi = ok.fetch_enr_multi([2020, 2021, 2022, 2023, 2024, 2025])"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"data-availability","dir":"","previous_headings":"","what":"Data Availability","title":"okschooldata - Oklahoma School Enrollment Data","text":"10 years across ~540 districts ~1,800 schools.","code":""},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"whats-included","dir":"","previous_headings":"Data Availability","what":"What’s Included","title":"okschooldata - Oklahoma School Enrollment Data","text":"Levels: State, district, campus/site Demographics: White, Black, Hispanic, Asian, Native American, Pacific Islander, Two Races Special populations: Economically disadvantaged (varies), English learners (varies) Grade levels: Pre-K Grade 12","code":""},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"oklahoma-id-system","dir":"","previous_headings":"Data Availability","what":"Oklahoma ID System","title":"okschooldata - Oklahoma School Enrollment Data","text":"District ID: 6 characters (County + Type + Number, e.g., 55I001 = Oklahoma City) Campus ID: 9 characters (District ID + Site number) County codes: 01-77 (Oklahoma 77 counties) District types: =Independent, D=Dependent, C=City, E=Elementary","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"caching","dir":"","previous_headings":"","what":"Caching","title":"okschooldata - Oklahoma School Enrollment Data","text":"","code":"# View cached files cache_status()  # Clear cache clear_cache()  # Force fresh download enr <- fetch_enr(2025, use_cache = FALSE)"},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"okschooldata - Oklahoma School Enrollment Data","text":"simple, consistent interface accessing state-published school data Python R. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"okschooldata - Oklahoma School Enrollment Data","text":"Andy Martin (almartin@gmail.com) GitHub: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/okschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"okschooldata - Oklahoma School Enrollment Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_directory_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build OSDE directory file URL — build_directory_url","title":"Build OSDE directory file URL — build_directory_url","text":"Constructs URL downloading directory data OSDE. Handles different file locations based year type.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_directory_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build OSDE directory file URL — build_directory_url","text":"","code":"build_directory_url(end_year, level)"},{"path":"https://almartin82.github.io/okschooldata/reference/build_directory_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build OSDE directory file URL — build_directory_url","text":"end_year School year end level \"District\" \"Site\"","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_directory_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build OSDE directory file URL — build_directory_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build OSDE enrollment file URL — build_osde_url","title":"Build OSDE enrollment file URL — build_osde_url","text":"Constructs URL downloading enrollment data OSDE. Handles different file naming patterns across eras.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build OSDE enrollment file URL — build_osde_url","text":"","code":"build_osde_url(end_year, level)"},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build OSDE enrollment file URL — build_osde_url","text":"end_year School year end level \"District\" \"Site\"","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build OSDE enrollment file URL — build_osde_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url_alt.html","id":null,"dir":"Reference","previous_headings":"","what":"Build alternate OSDE enrollment file URL — build_osde_url_alt","title":"Build alternate OSDE enrollment file URL — build_osde_url_alt","text":"Constructs alternate URL pattern OSDE data.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url_alt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build alternate OSDE enrollment file URL — build_osde_url_alt","text":"","code":"build_osde_url_alt(end_year, level)"},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url_alt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build alternate OSDE enrollment file URL — build_osde_url_alt","text":"end_year School year end level \"District\" \"Site\"","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/build_osde_url_alt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build alternate OSDE enrollment file URL — build_osde_url_alt","text":"URL string NULL alternate","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists and is valid — cache_exists","title":"Check if cached data exists and is valid — cache_exists","text":"Check cached data exists valid","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists and is valid — cache_exists","text":"","code":"cache_exists(end_year, type, max_age = 30)"},{"path":"https://almartin82.github.io/okschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists and is valid — cache_exists","text":"end_year School year end type Data type (\"tidy\" \"wide\") max_age Maximum age days (default 30)","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists and is valid — cache_exists","text":"TRUE valid cache exists","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Show cache status — cache_status","title":"Show cache status — cache_status","text":"Lists cached data files size age.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/okschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show cache status — cache_status","text":"Data frame cache information (invisibly)","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Show cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/clear_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the okschooldata cache — clear_cache","title":"Clear the okschooldata cache — clear_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/clear_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the okschooldata cache — clear_cache","text":"","code":"clear_cache(end_year = NULL, type = NULL)"},{"path":"https://almartin82.github.io/okschooldata/reference/clear_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the okschooldata cache — clear_cache","text":"end_year Optional school year clear. NULL, clears years. type Optional data type clear. NULL, clears types.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/clear_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the okschooldata cache — clear_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/clear_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the okschooldata cache — clear_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_cache()  # Clear only 2024 data clear_cache(2024)  # Clear only tidy format data clear_cache(type = \"tidy\") } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_directory_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty directory data frame — create_empty_directory_df","title":"Create empty directory data frame — create_empty_directory_df","text":"Create empty directory data frame","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_directory_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty directory data frame — create_empty_directory_df","text":"","code":"create_empty_directory_df(end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_directory_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty directory data frame — create_empty_directory_df","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_directory_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty directory data frame — create_empty_directory_df","text":"Empty data frame correct structure","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_enrollment_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Create empty enrollment data frame — create_empty_enrollment_df","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"Create empty enrollment data frame","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_enrollment_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"","code":"create_empty_enrollment_df(end_year, type)"},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_enrollment_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"end_year School year end type Row type (\"State\", \"District\", \"Campus\")","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_empty_enrollment_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create empty enrollment data frame — create_empty_enrollment_df","text":"Empty data frame correct structure","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_state_aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Create state-level aggregate from district data — create_state_aggregate","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Create state-level aggregate district data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_state_aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create state-level aggregate from district data — create_state_aggregate","text":"","code":"create_state_aggregate(district_df, end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/create_state_aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create state-level aggregate from district data — create_state_aggregate","text":"district_df Processed district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/create_state_aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create state-level aggregate from district data — create_state_aggregate","text":"Single-row data frame state totals","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_oklaschools_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download OklaSchools.com report card data — download_oklaschools_data","title":"Download OklaSchools.com report card data — download_oklaschools_data","text":"Downloads enrollment demographics data OklaSchools.com Data Matrix. used supplementary data source demographics grade levels.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_oklaschools_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download OklaSchools.com report card data — download_oklaschools_data","text":"","code":"download_oklaschools_data(end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/download_oklaschools_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download OklaSchools.com report card data — download_oklaschools_data","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_oklaschools_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download OklaSchools.com report card data — download_oklaschools_data","text":"Data frame report card data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Download OSDE directory Excel file — download_osde_directory","title":"Download OSDE directory Excel file — download_osde_directory","text":"Downloads district site directory data OSDE.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download OSDE directory Excel file — download_osde_directory","text":"","code":"download_osde_directory(end_year, level)"},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download OSDE directory Excel file — download_osde_directory","text":"end_year School year end level \"District\" \"Site\"","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download OSDE directory Excel file — download_osde_directory","text":"Data frame directory data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_enrollment.html","id":null,"dir":"Reference","previous_headings":"","what":"Download OSDE enrollment Excel file — download_osde_enrollment","title":"Download OSDE enrollment Excel file — download_osde_enrollment","text":"Downloads district site enrollment data OSDE.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_enrollment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download OSDE enrollment Excel file — download_osde_enrollment","text":"","code":"download_osde_enrollment(end_year, level)"},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_enrollment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download OSDE enrollment Excel file — download_osde_enrollment","text":"end_year School year end level \"District\" \"Site\"","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/download_osde_enrollment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download OSDE enrollment Excel file — download_osde_enrollment","text":"Data frame enrollment data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/okschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df tidy enrollment df","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"df aggregated enrollment data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/enr_grade_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Custom Enrollment Grade Level Aggregates — enr_grade_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) grade_aggs <- enr_grade_aggs(tidy_data) } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Oklahoma school directory data — fetch_directory","title":"Fetch Oklahoma school directory data — fetch_directory","text":"Downloads processes school directory data Oklahoma State Department Education's public data files. Returns contact information districts schools including principal/superintendent names, addresses, phone numbers.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Oklahoma school directory data — fetch_directory","text":"","code":"fetch_directory(end_year = NULL, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Oklahoma school directory data — fetch_directory","text":"end_year school year. Year end academic year - eg 2024-25 school year year '2025'. Valid values 2025-2026 (limited history available). tidy TRUE (default), returns data standardized format consistent column names. FALSE, returns raw column names source. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download OSDE.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Oklahoma school directory data — fetch_directory","text":"Data frame directory data including: end_year School year end (e.g., 2025 2024-25) district_id District code (e.g., \"55I001\") school_id School site code (e.g., \"55I001105\") - NA district rows district_name District name school_name School/site name - NA district rows county County name superintendent_name District superintendent (district rows ) superintendent_email Superintendent email (district rows ) principal_name School principal (school rows ) principal_email Principal email (school rows ) board_president Board president name (district rows ) phone Phone number fax Fax number (district rows ) website Website URL (district rows ) physical_address, physical_city, physical_state, physical_zip Physical address mailing_address, mailing_city, mailing_state, mailing_zip Mailing address grades_served Grade span (e.g., \"PK-12\") - school rows enrollment Total enrollment - school rows ","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_directory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Oklahoma school directory data — fetch_directory","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2025 school directory data (2024-25 school year) dir_2025 <- fetch_directory(2025)  # Get raw format (original column names) dir_raw <- fetch_directory(2025, tidy = FALSE)  # Force fresh download (ignore cache) dir_fresh <- fetch_directory(2025, use_cache = FALSE)  # Filter to specific district okc_ps <- dir_2025 |>   dplyr::filter(district_id == \"55I001\")  # Get all principals principals <- dir_2025 |>   dplyr::filter(!is.na(principal_name)) |>   dplyr::select(district_name, school_name, principal_name, principal_email) } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch Oklahoma enrollment data — fetch_enr","title":"Fetch Oklahoma enrollment data — fetch_enr","text":"Downloads processes enrollment data Oklahoma State Department Education's public data files.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch Oklahoma enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch Oklahoma enrollment data — fetch_enr","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2016-2025. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download OSDE.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch Oklahoma enrollment data — fetch_enr","text":"Data frame enrollment data. Wide format includes columns district_id, site_id, names, enrollment counts demographic/grade. Tidy format pivots counts subgroup grade_level columns.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch Oklahoma enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to specific district okc_ps <- enr_2024 |>   dplyr::filter(district_id == \"55I001\") } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment data for multiple years — fetch_enr_multi","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Downloads combines enrollment data multiple school years.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"end_years Vector school year ends (e.g., c(2022, 2023, 2024)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"Combined data frame enrollment data requested years","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment data for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 3 years of data enr_multi <- fetch_enr_multi(2022:2024)  # Track enrollment trends enr_multi |>   dplyr::filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") |>   dplyr::select(end_year, n_students) } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years for Oklahoma enrollment data — get_available_years","title":"Get available years for Oklahoma enrollment data — get_available_years","text":"Returns metadata range school years enrollment data available Oklahoma State Department Education.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years for Oklahoma enrollment data — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/okschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years for Oklahoma enrollment data — get_available_years","text":"list components: min_year Earliest available school year end (2016) max_year Latest available school year end (2024) description Human-readable description data availability","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years for Oklahoma enrollment data — get_available_years","text":"","code":"years <- get_available_years() years$min_year #> [1] 2016 years$max_year #> [1] 2025 years$description #> [1] \"Oklahoma enrollment data from OSDE is available for school years 2015-16 through 2024-25 (end years 2016-2025)\""},{"path":"https://almartin82.github.io/okschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache directory path — get_cache_dir","title":"Get cache directory path — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache directory path — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/okschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache directory path — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache file path for given year and type — get_cache_path","title":"Get cache file path for given year and type — get_cache_path","text":"Get cache file path given year type","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache file path for given year and type — get_cache_path","text":"","code":"get_cache_path(end_year, type)"},{"path":"https://almartin82.github.io/okschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cache file path for given year and type — get_cache_path","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache file path for given year and type — get_cache_path","text":"Full path cache file","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_directory_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years for Oklahoma school directory data — get_directory_available_years","title":"Get available years for Oklahoma school directory data — get_directory_available_years","text":"Returns metadata range school years directory data available Oklahoma State Department Education.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_directory_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years for Oklahoma school directory data — get_directory_available_years","text":"","code":"get_directory_available_years()"},{"path":"https://almartin82.github.io/okschooldata/reference/get_directory_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years for Oklahoma school directory data — get_directory_available_years","text":"list components: min_year Earliest available school year end (2025) max_year Latest available school year end (2026) description Human-readable description data availability","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_directory_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years for Oklahoma school directory data — get_directory_available_years","text":"","code":"years <- get_directory_available_years() years$min_year #> [1] 2025 years$max_year #> [1] 2026"},{"path":"https://almartin82.github.io/okschooldata/reference/get_enrollment_file_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Get enrollment file information for a given year — get_enrollment_file_info","title":"Get enrollment file information for a given year — get_enrollment_file_info","text":"Returns filename extension enrollment data based year. Handles different naming conventions used across eras.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_enrollment_file_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get enrollment file information for a given year — get_enrollment_file_info","text":"","code":"get_enrollment_file_info(end_year, level)"},{"path":"https://almartin82.github.io/okschooldata/reference/get_enrollment_file_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get enrollment file information for a given year — get_enrollment_file_info","text":"end_year School year end (e.g., 2024 2023-24 school year) level \"District\" \"Site\"","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_enrollment_file_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get enrollment file information for a given year — get_enrollment_file_info","text":"List filename extension","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_osde_column_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Get column mappings for OSDE enrollment data — get_osde_column_map","title":"Get column mappings for OSDE enrollment data — get_osde_column_map","text":"Returns list mapping OSDE column names standardized names. OSDE uses fairly consistent naming may vary slightly year.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_osde_column_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get column mappings for OSDE enrollment data — get_osde_column_map","text":"","code":"get_osde_column_map()"},{"path":"https://almartin82.github.io/okschooldata/reference/get_osde_column_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get column mappings for OSDE enrollment data — get_osde_column_map","text":"Named list column mappings","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw directory data from OSDE — get_raw_directory","title":"Download raw directory data from OSDE — get_raw_directory","text":"Downloads district site directory data OSDE's public data files.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw directory data from OSDE — get_raw_directory","text":"","code":"get_raw_directory(end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw directory data from OSDE — get_raw_directory","text":"end_year School year end (2024-25 = 2025)","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw directory data from OSDE — get_raw_directory","text":"List district site data frames","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw enrollment data from OSDE — get_raw_enr","title":"Download raw enrollment data from OSDE — get_raw_enr","text":"Downloads district site enrollment data OSDE's public data files.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw enrollment data from OSDE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw enrollment data from OSDE — get_raw_enr","text":"end_year School year end (2023-24 = 2024)","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw enrollment data from OSDE — get_raw_enr","text":"List district site data frames","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify enrollment aggregation levels — id_enr_aggs","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"Adds boolean flags identify state, district, campus level records.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"id_enr_aggs(df)"},{"path":"https://almartin82.github.io/okschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"df Enrollment dataframe, output tidy_enr","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"data.frame boolean aggregation flags","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/id_enr_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify enrollment aggregation levels — id_enr_aggs","text":"","code":"if (FALSE) { # \\dontrun{ tidy_data <- fetch_enr(2024) # Data already has aggregation flags via id_enr_aggs table(tidy_data$is_state, tidy_data$is_district, tidy_data$is_campus) } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/okschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","title":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","text":"Downloads processes school data Oklahoma State Department Education (OSDE). Provides functions fetching enrollment data OSDE's public reporting systems transforming tidy format analysis.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/okschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main functions","title":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","text":"fetch_enr Fetch enrollment data school year fetch_enr_multi Fetch enrollment data multiple years get_available_years Get list available data years tidy_enr Transform wide data tidy (long) format id_enr_aggs Add aggregation level flags enr_grade_aggs Create grade-level aggregations","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/okschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache functions","title":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","text":"cache_status View cached data files clear_cache Remove cached data files","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/okschooldata-package.html","id":"id-system","dir":"Reference","previous_headings":"","what":"ID System","title":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","text":"Oklahoma uses alphanumeric ID system: District IDs: County code (2 digits) + Type (1 letter) + Number (3 digits) Site IDs: District ID + Site number (3 digits) Example: 55I001 = Oklahoma County (55), Independent (), District 001 (OKC Public Schools) Example: 55I001001 = Site 001 Oklahoma City Public Schools","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/okschooldata-package.html","id":"district-types","dir":"Reference","previous_headings":"","what":"District Types","title":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","text":"= Independent school district D = Dependent school district C = City school district E = Elementary school district","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/okschooldata-package.html","id":"data-sources","dir":"Reference","previous_headings":"","what":"Data Sources","title":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","text":"Data sourced Oklahoma State Department Education: OSDE Public Records: https://sde.ok.gov/reporting-index State Public Enrollment: https://sde.ok.gov/documents/state-student-public-enrollment OklaSchools.com: https://oklaschools.com/","code":""},{"path":[]},{"path":"https://almartin82.github.io/okschooldata/reference/okschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"okschooldata: Fetch and Process Oklahoma School Data — okschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw OSDE directory data — process_directory","title":"Process raw OSDE directory data — process_directory","text":"Transforms raw OSDE directory data standardized schema combining district site data.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw OSDE directory data — process_directory","text":"","code":"process_directory(raw_data, end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/process_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw OSDE directory data — process_directory","text":"raw_data List containing district site data frames get_raw_directory end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw OSDE directory data — process_directory","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process district-level directory data — process_district_directory","title":"Process district-level directory data — process_district_directory","text":"Process district-level directory data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process district-level directory data — process_district_directory","text":"","code":"process_district_directory(df, end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process district-level directory data — process_district_directory","text":"df Raw district directory data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process district-level directory data — process_district_directory","text":"Processed district data frame","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process district-level enrollment data — process_district_enr","title":"Process district-level enrollment data — process_district_enr","text":"Process district-level enrollment data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process district-level enrollment data — process_district_enr","text":"","code":"process_district_enr(df, end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process district-level enrollment data — process_district_enr","text":"df Raw district data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_district_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process district-level enrollment data — process_district_enr","text":"Processed district data frame","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw OSDE enrollment data — process_enr","title":"Process raw OSDE enrollment data — process_enr","text":"Transforms raw OSDE data standardized schema combining district site data.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw OSDE enrollment data — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw OSDE enrollment data — process_enr","text":"raw_data List containing district site data frames get_raw_enr end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw OSDE enrollment data — process_enr","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_directory.html","id":null,"dir":"Reference","previous_headings":"","what":"Process site-level directory data — process_site_directory","title":"Process site-level directory data — process_site_directory","text":"Process site-level directory data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_directory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process site-level directory data — process_site_directory","text":"","code":"process_site_directory(df, end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_directory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process site-level directory data — process_site_directory","text":"df Raw site directory data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_directory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process site-level directory data — process_site_directory","text":"Processed site data frame","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process site-level enrollment data — process_site_enr","title":"Process site-level enrollment data — process_site_enr","text":"Sites Oklahoma equivalent campuses/schools states.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process site-level enrollment data — process_site_enr","text":"","code":"process_site_enr(df, end_year)"},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process site-level enrollment data — process_site_enr","text":"df Raw site data frame end_year School year end","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/process_site_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process site-level enrollment data — process_site_enr","text":"Processed site data frame","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, type)"},{"path":"https://almartin82.github.io/okschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"OSDE uses various markers suppressed data (*, <, N/, etc.) may use commas large numbers.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/okschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy enrollment data — tidy_enr","title":"Tidy enrollment data — tidy_enr","text":"Transforms wide enrollment data long format subgroup column.","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy enrollment data — tidy_enr","text":"","code":"tidy_enr(df)"},{"path":"https://almartin82.github.io/okschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy enrollment data — tidy_enr","text":"df wide data.frame processed enrollment data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy enrollment data — tidy_enr","text":"long data.frame tidied enrollment data","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy enrollment data — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ wide_data <- fetch_enr(2024, tidy = FALSE) tidy_data <- tidy_enr(wide_data) } # }"},{"path":"https://almartin82.github.io/okschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(df, end_year, type)"},{"path":"https://almartin82.github.io/okschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"df Data frame cache end_year School year end type Data type (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/okschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
