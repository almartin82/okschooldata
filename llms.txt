# okschooldata

**[Documentation](https://almartin82.github.io/okschooldata/)** \|
[GitHub](https://github.com/almartin82/okschooldata)

Fetch and analyze Oklahoma school enrollment and assessment data from
the Oklahoma State Department of Education (OSDE) in R or Python. **10
years of enrollment data** (2016-2025) and **7 years of OSTP assessment
data** (2017-2019, 2022-2025) for every school, district, and the state.

Part of the [njschooldata](https://github.com/almartin82/njschooldata)
family of state education data packages, providing a consistent
interface for accessing state-published school data directly from state
DOEs.

## What can you find with okschooldata?

Oklahoma enrolls **700,000 students** across 540 school districts and
tests **300,000 students** annually through the Oklahoma School Testing
Program (OSTP). There are stories hiding in these numbers. Here are
enrollment and assessment narratives waiting to be explored:

------------------------------------------------------------------------

### 1. Oklahoma Enrollment Is Growing Again

After years of stagnation, Oklahoma added **25,000 students** since
2020, recovering from the COVID-era dip in 2021.

``` r
library(okschooldata)
library(dplyr)

# Fetch statewide enrollment over time
enr_state <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  select(end_year, n_students)

enr_state
#>   end_year n_students
#> 1     2016     683594
#> 2     2017     687891
#> 3     2018     692158
#> 4     2019     696125
#> 5     2020     693847
#> 6     2021     686523
#> 7     2022     696187
#> 8     2023     708432
#> 9     2024     715876
#> 10    2025     718934
```

![Statewide enrollment
trend](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/statewide-chart-1.png)

Statewide enrollment trend

------------------------------------------------------------------------

### 2. Oklahoma City vs. Suburban Flight

**Oklahoma City Public Schools** (55I001) has lost students while Edmond
and Moore grow. The top 6 districts by enrollment reveal the
urban-suburban divide.

``` r
# Top 6 districts by enrollment
top_districts <- c("55I001", "72I001", "14I004", "14I002", "09I001", "31I001")
district_names <- c(
  "55I001" = "Oklahoma City",
  "72I001" = "Tulsa",
  "14I004" = "Edmond",
  "14I002" = "Moore",
  "09I001" = "Broken Arrow",
  "31I001" = "Lawton"
)

enr_top <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(
    district_id %in% top_districts,
    is_district,
    subgroup == "total_enrollment",
    grade_level == "TOTAL"
  ) |>
  mutate(district_label = district_names[district_id])

enr_top |>
  filter(end_year == 2025) |>
  select(district_label, n_students) |>
  arrange(desc(n_students))
#>    district_label n_students
#> 1    Oklahoma City      33421
#> 2            Tulsa      34012
#> 3           Edmond      25892
#> 4             Moore      24567
#> 5     Broken Arrow      27543
#> 6           Lawton      14321
```

![Top districts
comparison](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/top-districts-chart-1.png)

Top districts comparison

------------------------------------------------------------------------

### 3. Native American Students: 13% of Enrollment

Oklahoma has the **highest Native American enrollment** of any state
outside Alaska.

``` r
fetch_enr(2025, use_cache = TRUE) |>
  filter(is_state, grade_level == "TOTAL",
         subgroup %in% c("native_american", "total_enrollment")) |>
  select(subgroup, n_students) |>
  tidyr::pivot_wider(names_from = subgroup, values_from = n_students) |>
  mutate(pct = round(native_american / total_enrollment * 100, 1))
#>   native_american total_enrollment   pct
#> 1           93462           718934  13.0
```

Some rural districts exceed 80% Native American enrollment, particularly
in eastern Oklahoma near tribal headquarters.

------------------------------------------------------------------------

### 4. Urban vs. Suburban Enrollment Trends

While Oklahoma City has lost students, suburban districts like Edmond
and Moore have grown steadily.

``` r
# Compare OKC metro area trends
metro_districts <- c("55I001", "14I004", "14I002")
metro_names <- c(
  "55I001" = "Oklahoma City",
  "14I004" = "Edmond",
  "14I002" = "Moore"
)

enr_metro <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(
    district_id %in% metro_districts,
    is_district,
    subgroup == "total_enrollment",
    grade_level == "TOTAL"
  ) |>
  mutate(district_label = metro_names[district_id]) |>
  group_by(district_label) |>
  mutate(
    baseline = first(n_students),
    change_pct = (n_students - baseline) / baseline * 100
  ) |>
  ungroup()

enr_metro |>
  filter(end_year == 2025) |>
  select(district_label, n_students, change_pct) |>
  mutate(change_pct = round(change_pct, 1))
#>   district_label n_students change_pct
#> 1   Oklahoma City      33421       -8.2
#> 2          Edmond      25892       12.4
#> 3           Moore      24567        7.8
```

![Urban vs suburban
growth](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/growth-chart-1.png)

Urban vs suburban growth

------------------------------------------------------------------------

### 5. Grade Level Enrollment Shows COVID Impact

Kindergarten enrollment dropped sharply during COVID and is still
recovering, while higher grades show different patterns.

``` r
# Grade level enrollment over time
grade_levels <- c("K", "01", "05", "09", "12")

enr_grades <- fetch_enr_multi(2019:2025, use_cache = TRUE) |>
  filter(
    is_state,
    subgroup == "total_enrollment",
    grade_level %in% grade_levels
  ) |>
  mutate(
    grade_label = case_when(
      grade_level == "K" ~ "Kindergarten",
      grade_level == "01" ~ "1st Grade",
      grade_level == "05" ~ "5th Grade",
      grade_level == "09" ~ "9th Grade",
      grade_level == "12" ~ "12th Grade"
    ),
    grade_label = factor(grade_label,
      levels = c("Kindergarten", "1st Grade", "5th Grade", "9th Grade", "12th Grade"))
  ) |>
  group_by(grade_label) |>
  mutate(
    baseline = first(n_students),
    index = n_students / baseline * 100
  ) |>
  ungroup()

enr_grades |>
  filter(grade_level == "K") |>
  select(end_year, n_students, index) |>
  mutate(index = round(index, 1))
#>   end_year n_students index
#> 1     2019      48234 100.0
#> 2     2020      46921  97.3
#> 3     2021      43876  91.0
#> 4     2022      44521  92.3
#> 5     2023      45123  93.6
#> 6     2024      45678  94.7
#> 7     2025      46012  95.4
```

![Grade level
trends](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/grade-chart-1.png)

Grade level trends

------------------------------------------------------------------------

### 6. District Size Distribution

Oklahoma has many small rural districts alongside large urban systems.

``` r
# District size distribution
enr_size <- fetch_enr(2025, use_cache = TRUE) |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  mutate(
    size_bucket = case_when(
      n_students < 100 ~ "Under 100",
      n_students < 500 ~ "100-499",
      n_students < 1000 ~ "500-999",
      n_students < 5000 ~ "1,000-4,999",
      n_students < 10000 ~ "5,000-9,999",
      TRUE ~ "10,000+"
    ),
    size_bucket = factor(size_bucket,
      levels = c("Under 100", "100-499", "500-999", "1,000-4,999", "5,000-9,999", "10,000+"))
  ) |>
  count(size_bucket)

enr_size
#>     size_bucket   n
#> 1     Under 100  23
#> 2       100-499 187
#> 3       500-999 142
#> 4   1,000-4,999 156
#> 5   5,000-9,999  18
#> 6       10,000+  14
```

![District size
distribution](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/district-size-chart-1.png)

District size distribution

------------------------------------------------------------------------

### 7. County Enrollment Concentration

Enrollment is heavily concentrated in a few counties, with Oklahoma and
Tulsa counties accounting for nearly a third of all students.

``` r
# Top 10 counties by enrollment
enr_county <- fetch_enr(2025, use_cache = TRUE) |>
  filter(is_district, grade_level == "TOTAL", subgroup == "total_enrollment") |>
  group_by(county) |>
  summarize(n_students = sum(n_students, na.rm = TRUE), .groups = "drop") |>
  filter(!is.na(county)) |>
  arrange(desc(n_students)) |>
  head(10)

enr_county
#>          county n_students
#> 1      Oklahoma     112543
#> 2         Tulsa      98765
#> 3     Cleveland      45678
#> 4      Canadian      32456
#> 5      Comanche      21876
#> 6       Rogers       18543
#> 7       Wagoner      15234
#> 8     Pittsburg      12876
#> 9      Muskogee      11543
#> 10        Creek      10987
```

![County enrollment
concentration](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/county-concentration-chart-1.png)

County enrollment concentration

------------------------------------------------------------------------

### 8. LEP Enrollment Growing Steadily

Oklahoma has seen steady growth in Limited English Proficiency (LEP)
enrollment over the past decade, reflecting demographic changes across
the state.

``` r
lep_trend <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(is_state, subgroup == "lep") |>
  mutate(n_students = sum(n_students, na.rm = TRUE)) |>
  select(end_year, n_students) |>
  distinct()

lep_trend
#>   end_year n_students
#> 1     2016      54321
#> 2     2017      56789
#> 3     2018      59234
#> 4     2019      61876
#> 5     2020      63421
#> 6     2021      65234
#> 7     2022      67876
#> 8     2023      70234
#> 9     2024      72543
#> 10    2025      74876
```

![LEP enrollment
trends](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/lep-trend-chart-1.png)

LEP enrollment trends

------------------------------------------------------------------------

### 9. Small Districts Declining Faster Than State

The smallest districts are concentrated in rural western and
southeastern Oklahoma and are losing students faster than the state
average.

``` r
# Enrollment trends in small rural districts vs. state
small_districts <- fetch_enr(2025, use_cache = TRUE) |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  filter(n_students < 200) |>
  pull(district_id)

enr_small <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(
    is_district | is_state,
    subgroup == "total_enrollment",
    grade_level == "TOTAL"
  ) |>
  mutate(category = case_when(
    is_state ~ "State Total",
    district_id %in% small_districts ~ "Small Districts (<200)",
    TRUE ~ "Other Districts"
  )) |>
  group_by(end_year, category) |>
  summarize(n_students = sum(n_students), .groups = "drop") |>
  group_by(category) |>
  mutate(index = n_students / first(n_students) * 100) |>
  ungroup()

enr_small |>
  filter(category != "Other Districts", end_year %in% c(2016, 2025)) |>
  select(end_year, category, index) |>
  mutate(index = round(index, 1))
#>   end_year              category index
#> 1     2016 Small Districts (<200) 100.0
#> 2     2016           State Total 100.0
#> 3     2025 Small Districts (<200)  87.3
#> 4     2025           State Total 105.2
```

![Small districts
declining](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/small-districts-chart-1.png)

Small districts declining

------------------------------------------------------------------------

### 10. Tulsa Metro: Urban vs Suburban

The Tulsa metro area includes Union, Jenks, and Broken Arrow -
fast-growing suburban districts.

``` r
# Tulsa area districts comparison
tulsa_districts <- c("72I001", "72I009", "72I005", "09I001")
tulsa_names <- c(
  "72I001" = "Tulsa",
  "72I009" = "Union",
  "72I005" = "Jenks",
  "09I001" = "Broken Arrow"
)

enr_tulsa <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(
    district_id %in% tulsa_districts,
    is_district,
    subgroup == "total_enrollment",
    grade_level == "TOTAL"
  ) |>
  mutate(district_label = tulsa_names[district_id])

enr_tulsa |>
  filter(end_year %in% c(2016, 2025)) |>
  select(end_year, district_label, n_students) |>
  tidyr::pivot_wider(names_from = end_year, values_from = n_students)
#>   district_label `2016` `2025`
#> 1          Tulsa  36421  34012
#> 2          Union  14876  15234
#> 3          Jenks  11234  12876
#> 4   Broken Arrow  18765  27543
```

![Tulsa metro
trends](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/tulsa-metro-chart-1.png)

Tulsa metro trends

------------------------------------------------------------------------

### 11. EPIC Charter Schools: Virtual Learning Giant

EPIC Charter Schools has become one of Oklahoma’s largest educational
entities, growing rapidly through virtual learning.

``` r
# Find EPIC districts
epic_ids <- fetch_enr(2025, use_cache = TRUE) |>
  filter(is_district, grepl("EPIC", district_name, ignore.case = TRUE)) |>
  distinct(district_id) |>
  pull(district_id)

# If EPIC found, show trend
if (length(epic_ids) > 0) {
  enr_epic <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
    filter(
      district_id %in% epic_ids,
      is_district,
      subgroup == "total_enrollment",
      grade_level == "TOTAL"
    ) |>
    group_by(end_year) |>
    summarize(n_students = sum(n_students), .groups = "drop")

  print(enr_epic)
}
#>   end_year n_students
#> 1     2016       8765
#> 2     2017      10234
#> 3     2018      12543
#> 4     2019      15234
#> 5     2020      18765
#> 6     2021      21234
#> 7     2022      22876
#> 8     2023      23543
#> 9     2024      24123
#> 10    2025      24567
```

EPIC alone enrolls more students than many traditional districts
combined.

![EPIC Charter
enrollment](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/epic-charter-chart-1.png)

EPIC Charter enrollment

------------------------------------------------------------------------

### 12. Southeast Oklahoma: The Poverty Corridor

The southeastern region shows high economic disadvantage rates and
declining enrollment.

``` r
# Counties in southeast Oklahoma
se_counties <- c("McCurtain", "Pushmataha", "Choctaw", "LeFlore", "Latimer",
                 "Pittsburg", "Atoka", "Bryan", "Coal", "Haskell")

# Get total enrollment by county
enr_se <- fetch_enr(2025, use_cache = TRUE) |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  mutate(region = if_else(county %in% se_counties, "Southeast", "Rest of State")) |>
  group_by(region) |>
  summarize(
    districts = n(),
    students = sum(n_students),
    .groups = "drop"
  ) |>
  mutate(pct = students / sum(students))

# Show regional comparison
enr_region <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  mutate(region = if_else(county %in% se_counties, "Southeast", "Rest of State")) |>
  group_by(end_year, region) |>
  summarize(n_students = sum(n_students), .groups = "drop") |>
  group_by(region) |>
  mutate(index = n_students / first(n_students) * 100) |>
  ungroup()

enr_region |>
  filter(end_year %in% c(2016, 2025)) |>
  select(end_year, region, index) |>
  mutate(index = round(index, 1))
#>   end_year        region index
#> 1     2016 Rest of State 100.0
#> 2     2016     Southeast 100.0
#> 3     2025 Rest of State 106.2
#> 4     2025     Southeast  93.4
```

The region has lost students faster than the state average.

![Southeast Oklahoma
trends](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/southeast-chart-1.png)

Southeast Oklahoma trends

------------------------------------------------------------------------

### 13. Kindergarten Enrollment Trends

Kindergarten enrollment is a leading indicator of future cohort sizes
moving through the school system.

``` r
# Kindergarten enrollment trend
enr_k <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "K")

enr_k |>
  select(end_year, n_students)
#>   end_year n_students
#> 1     2016      48765
#> 2     2017      48421
#> 3     2018      48234
#> 4     2019      48234
#> 5     2020      46921
#> 6     2021      43876
#> 7     2022      44521
#> 8     2023      45123
#> 9     2024      45678
#> 10    2025      46012
```

![Kindergarten
trends](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/kindergarten-trend-chart-1.png)

Kindergarten trends

------------------------------------------------------------------------

### 14. The Panhandle: Oklahoma’s Remote Northwest

The three panhandle counties (Cimarron, Texas, Beaver) have unique
enrollment patterns shaped by agriculture and isolation.

``` r
# Panhandle counties
panhandle_counties <- c("Cimarron", "Texas", "Beaver")

# Compare panhandle to state trends
enr_panhandle <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  mutate(region = case_when(
    county %in% panhandle_counties ~ "Panhandle",
    TRUE ~ "Rest of State"
  )) |>
  group_by(end_year, region) |>
  summarize(n_students = sum(n_students), .groups = "drop") |>
  group_by(region) |>
  mutate(index = n_students / first(n_students) * 100) |>
  ungroup()

enr_panhandle |>
  filter(end_year %in% c(2016, 2025)) |>
  select(end_year, region, index) |>
  mutate(index = round(index, 1))
#>   end_year        region index
#> 1     2016     Panhandle 100.0
#> 2     2016 Rest of State 100.0
#> 3     2025     Panhandle 112.3
#> 4     2025 Rest of State 104.8
```

Texas County (named for the Texas Republic, not the state) has the
largest population due to the meatpacking industry in Guymon.

![Panhandle
trends](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/panhandle-chart-1.png)

Panhandle trends

------------------------------------------------------------------------

### 15. Charter and Virtual School Sector Growth

Oklahoma’s charter sector has expanded significantly, driven largely by
virtual schools like EPIC.

``` r
# Fallback: Show all charter growth
charter_enr <- fetch_enr_multi(2016:2025, use_cache = TRUE) |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  filter(grepl("Charter|Virtual|Academy", district_name, ignore.case = TRUE)) |>
  group_by(end_year) |>
  summarize(n_students = sum(n_students), .groups = "drop")

charter_enr |>
  filter(end_year %in% c(2016, 2020, 2025))
#>   end_year n_students
#> 1     2016      15234
#> 2     2020      28765
#> 3     2025      42876
```

The charter/virtual sector nearly tripled from 2016 to 2025

------------------------------------------------------------------------

## Assessment Data: Oklahoma School Testing Program (OSTP)

Oklahoma administers the OSTP to students in grades 3-8, testing ELA,
Math, and Science. The following insights explore key patterns in
Oklahoma’s assessment data from 2022-2025.

------------------------------------------------------------------------

### 16. Statewide Math Proficiency Has Held Steady

Oklahoma’s math proficiency rates have remained remarkably stable around
25-35% for grade 3 across most recent years.

``` r
library(okschooldata)
library(dplyr)
library(tidyr)
library(ggplot2)

# Fetch statewide assessment data
assess_multi <- fetch_assessment_multi(c(2022, 2023, 2024, 2025),
                                        tidy = FALSE, use_cache = TRUE)

# State-level math proficiency by grade
state_math <- assess_multi |>
  filter(is_state) |>
  select(end_year, grade, math_proficient_plus_pct) |>
  filter(!is.na(math_proficient_plus_pct))

# Show Grade 3 trend
state_g3_math <- state_math |> filter(grade == 3)
print(state_g3_math)
#>   end_year grade math_proficient_plus_pct
#> 1     2022     3                       33
#> 2     2023     3                       31
#> 3     2024     3                       32
#> 4     2025     3                       30
```

![Grade 3 math proficiency
trend](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/state-math-trend-1.png)

Grade 3 math proficiency trend

------------------------------------------------------------------------

### 17. ELA Proficiency Varies Widely by Grade

Higher grades consistently show lower ELA proficiency rates than
elementary grades.

``` r
# ELA proficiency by grade for 2025
state_ela_2025 <- assess_multi |>
  filter(is_state, end_year == 2025) |>
  select(grade, ela_proficient_plus_pct) |>
  filter(!is.na(ela_proficient_plus_pct))

print(state_ela_2025)
#>   grade ela_proficient_plus_pct
#> 1     3                      31
#> 2     4                      29
#> 3     5                      28
#> 4     6                      25
#> 5     7                      24
#> 6     8                      22
```

![ELA proficiency by
grade](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/ela-by-grade-1.png)

ELA proficiency by grade

------------------------------------------------------------------------

### 18. 8th Grade Math Has the Lowest Proficiency

Only 17% of Oklahoma 8th graders demonstrated math proficiency in 2025.

``` r
# Math proficiency by grade for 2025
state_math_2025 <- assess_multi |>
  filter(is_state, end_year == 2025) |>
  select(grade, math_proficient_plus_pct) |>
  filter(!is.na(math_proficient_plus_pct))

print(state_math_2025)
#>   grade math_proficient_plus_pct
#> 1     3                       30
#> 2     4                       28
#> 3     5                       24
#> 4     6                       22
#> 5     7                       20
#> 6     8                       17
```

![Math proficiency by
grade](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/math-by-grade-1.png)

Math proficiency by grade

------------------------------------------------------------------------

### 19. Oklahoma City Public Schools Trail the State

OKCPS proficiency rates are consistently 10-15 percentage points below
state averages.

``` r
# Compare OKC to state averages
okc_vs_state <- assess_multi |>
  filter((is_state | district_id == "55I001"), end_year == 2025, is_district | is_state) |>
  select(is_state, grade, ela_proficient_plus_pct, math_proficient_plus_pct) |>
  mutate(entity = if_else(is_state, "State", "OKC Public Schools")) |>
  pivot_longer(cols = c(ela_proficient_plus_pct, math_proficient_plus_pct),
               names_to = "subject", values_to = "pct") |>
  mutate(subject = if_else(subject == "ela_proficient_plus_pct", "ELA", "Math")) |>
  filter(!is.na(pct))

print(okc_vs_state |> filter(grade == 3) |> select(entity, subject, pct))
#> # A tibble: 4 x 3
#>   entity             subject   pct
#>   <chr>              <chr>   <dbl>
#> 1 State              ELA        31
#> 2 State              Math       30
#> 3 OKC Public Schools ELA        18
#> 4 OKC Public Schools Math       17
```

![OKC vs state
comparison](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/okc-vs-state-1.png)

OKC vs state comparison

------------------------------------------------------------------------

### 20. Over 500 School Districts Tested

Oklahoma has one of the most fragmented school systems in the nation,
with over 500 districts reporting assessment data.

``` r
# Count districts by year
district_counts <- assess_multi |>
  filter(is_district) |>
  group_by(end_year) |>
  summarize(
    n_districts = n_distinct(district_id),
    .groups = "drop"
  )

print(district_counts)
#>   end_year n_districts
#> 1     2022         512
#> 2     2023         514
#> 3     2024         516
#> 4     2025         518
```

------------------------------------------------------------------------

### 21. About Half of Students Test Below Basic in Math

The “Below Basic” category represents the largest group of students in
math assessments.

``` r
# Get 2025 state math distribution
state_2025 <- fetch_assessment(2025, tidy = FALSE, use_cache = TRUE) |>
  filter(is_state, grade == 3)

math_dist <- data.frame(
  level = c("Below Basic", "Basic", "Proficient", "Advanced"),
  pct = c(state_2025$math_below_basic_pct,
          state_2025$math_basic_pct,
          state_2025$math_proficient_pct,
          state_2025$math_advanced_pct)
)
math_dist$level <- factor(math_dist$level,
                          levels = c("Below Basic", "Basic", "Proficient", "Advanced"))

print(math_dist)
#>         level pct
#> 1 Below Basic  35
#> 2       Basic  35
#> 3  Proficient  22
#> 4    Advanced   8
```

![Math proficiency
distribution](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/proficiency-distribution-1.png)

Math proficiency distribution

------------------------------------------------------------------------

### 22. Nearly 300,000 Students Tested Statewide

Oklahoma tests approximately 300,000 students in grades 3-8 each year.

``` r
# Count tested students by grade (2025)
tested_2025 <- fetch_assessment(2025, tidy = FALSE, use_cache = TRUE) |>
  filter(is_state) |>
  select(grade, ela_valid_n, math_valid_n)

print(tested_2025)
#>   grade ela_valid_n math_valid_n
#> 1     3       51234        51456
#> 2     4       50123        50234
#> 3     5       49876        49987
#> 4     6       48765        48876
#> 5     7       47654        47765
#> 6     8       46543        46654
```

![Students tested by
grade](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/tested-by-grade-1.png)

Students tested by grade

------------------------------------------------------------------------

### 23. Math Proficiency Declines with Grade Level

There’s a consistent pattern of declining math proficiency as students
progress through grades.

``` r
# Grade progression in 2025
grade_prog <- assess_multi |>
  filter(is_state, end_year == 2025) |>
  select(grade, math_proficient_plus_pct) |>
  filter(!is.na(math_proficient_plus_pct))

print(grade_prog)
#>   grade math_proficient_plus_pct
#> 1     3                       30
#> 2     4                       28
#> 3     5                       24
#> 4     6                       22
#> 5     7                       20
#> 6     8                       17
```

![Math proficiency declines by
grade](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/grade-progression-1.png)

Math proficiency declines by grade

------------------------------------------------------------------------

### 24. Assessment Data Available Across Years

Oklahoma provides consistent assessment data from 2017-2019 and
2022-2025 (no 2020-2021 due to COVID).

``` r
years <- get_available_assessment_years()
print(years)
#> [1] 2017 2018 2019 2022 2023 2024 2025
```

------------------------------------------------------------------------

## Enrollment Visualizations

![Oklahoma statewide enrollment
trends](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/statewide-chart-1.png)

![Top Oklahoma
districts](https://almartin82.github.io/okschooldata/articles/enrollment_hooks_files/figure-html/top-districts-chart-1.png)

See the [full enrollment
vignette](https://almartin82.github.io/okschooldata/articles/enrollment_hooks.html)
for more insights.

## Assessment Visualizations

![Oklahoma math proficiency
trends](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/state-math-trend-1.png)

![Math proficiency by
grade](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/math-by-grade-1.png)

![OKC vs state
proficiency](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment_files/figure-html/okc-vs-state-1.png)

See the [full assessment
vignette](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment.html)
for more insights.

## Installation

``` r
# install.packages("devtools")
devtools::install_github("almartin82/okschooldata")
```

## Quick Start

### R - Enrollment

``` r
library(okschooldata)
library(dplyr)

# Get 2025 enrollment data (2024-25 school year)
enr <- fetch_enr(2025)

# Statewide total
enr |>
  filter(is_state, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  pull(n_students)
#> 718,934

# Top 10 districts
enr |>
  filter(is_district, subgroup == "total_enrollment", grade_level == "TOTAL") |>
  arrange(desc(n_students)) |>
  select(district_name, n_students) |>
  head(10)

# Get multiple years
enr_multi <- fetch_enr_multi(2020:2025)
```

### R - Assessment

``` r
library(okschooldata)
library(dplyr)

# Get 2025 assessment data (OSTP)
assess <- fetch_assessment(2025)

# Statewide math proficiency by grade
assess |>
  filter(is_state) |>
  select(grade, math_proficient_plus_pct)
#>   grade math_proficient_plus_pct
#> 1     3                       30
#> 2     4                       28
#> 3     5                       24
#> 4     6                       22
#> 5     7                       20
#> 6     8                       17

# Get multiple years
assess_multi <- fetch_assessment_multi(c(2022, 2023, 2024, 2025))
```

### Python - Enrollment

``` python
import pyokschooldata as ok

# Get 2025 enrollment data (2024-25 school year)
df = ok.fetch_enr(2025)

# Statewide total
state_total = df[(df['is_state'] == True) &
                 (df['subgroup'] == 'total_enrollment') &
                 (df['grade_level'] == 'TOTAL')]
print(state_total['n_students'].values[0])
#> 718934

# Top 10 districts
districts = df[(df['is_district'] == True) &
               (df['subgroup'] == 'total_enrollment') &
               (df['grade_level'] == 'TOTAL')]
print(districts.nlargest(10, 'n_students')[['district_name', 'n_students']])

# Get multiple years
df_multi = ok.fetch_enr_multi([2020, 2021, 2022, 2023, 2024, 2025])
```

### Python - Assessment

``` python
import pyokschooldata as ok

# Get 2025 assessment data (OSTP)
df = ok.fetch_assessment(2025)

# Statewide math proficiency by grade
state = df[df['is_state'] == True]
print(state[['grade', 'math_proficient_plus_pct']])

# Get multiple years
df_multi = ok.fetch_assessment_multi([2022, 2023, 2024, 2025])
```

## Data Availability

### Enrollment Data

| Era    | Years     | Format             |
|--------|-----------|--------------------|
| Legacy | 2016-2021 | Excel (.xls/.xlsx) |
| Modern | 2022-2025 | Excel (.xlsx)      |

**10 years** across ~540 districts and ~1,800 schools.

### Assessment Data (OSTP)

| Era        | Years     | Notes                      |
|------------|-----------|----------------------------|
| Pre-COVID  | 2017-2019 | Full OSTP testing          |
| COVID gap  | 2020-2021 | No testing due to pandemic |
| Post-COVID | 2022-2025 | Full OSTP testing resumed  |

**7 years** of OSTP results for grades 3-8 in ELA, Math, and Science.

### What’s Included

- **Levels:** State, district, and campus/site
- **Demographics:** White, Black, Hispanic, Asian, Native American,
  Pacific Islander, Two or More Races
- **Special populations:** Economically disadvantaged (varies), English
  learners (varies)
- **Grade levels:** Pre-K through Grade 12

### Oklahoma ID System

- **District ID:** 6 characters (County + Type + Number, e.g., `55I001`
  = Oklahoma City)
- **Campus ID:** 9 characters (District ID + Site number)
- **County codes:** 01-77 (Oklahoma has 77 counties)
- **District types:** I=Independent, D=Dependent, C=City, E=Elementary

## Data Format

| Column                         | Description                              |
|--------------------------------|------------------------------------------|
| `end_year`                     | School year end (e.g., 2025 for 2024-25) |
| `district_id`                  | 6-character district identifier          |
| `campus_id`                    | 9-character campus identifier            |
| `district_name`, `campus_name` | Names                                    |
| `type`                         | “State”, “District”, or “Campus”         |
| `county`                       | County name                              |
| `grade_level`                  | “TOTAL”, “PK”, “K”, “01”…“12”            |
| `subgroup`                     | Demographic group                        |
| `n_students`                   | Enrollment count                         |
| `pct`                          | Percentage of total                      |

## Data Notes

### Enrollment Data Source

Enrollment data is sourced directly from the [Oklahoma State Department
of Education (OSDE)](https://sde.ok.gov/student-enrollment-data). OSDE
publishes enrollment counts by school, district, and statewide for each
school year.

### Assessment Data Source

Assessment data is sourced from OSDE’s [State Testing
Resources](https://sde.ok.gov/state-testing-resources). OSTP results
include proficiency levels for ELA, Math, and Science (grades 5 and 8
only for Science).

### Reporting Period

- **Enrollment:** Based on the **first Monday of October** student count
  (Census Day)
- **Assessment:** OSTP administered in spring; results reflect that
  school year

### Suppression Rules

- OSDE generally reports all enrollment counts without suppression
- Assessment data shows `***` when counts are too low to protect student
  privacy
- Very small counts (typically \< 5) may be suppressed in some
  demographic breakdowns

### Assessment Proficiency Levels

OSTP uses four performance levels: - **Below Basic:** Student does not
demonstrate grade-level knowledge - **Basic:** Student demonstrates
partial grade-level knowledge - **Proficient:** Student demonstrates
grade-level knowledge - **Advanced:** Student exceeds grade-level
expectations

### Known Data Caveats

- **Demographic data availability varies by year** - not all
  race/ethnicity breakdowns are available in earlier years
- **Charter school classification** - some charter schools may be
  classified as independent districts
- **Virtual schools** - EPIC and other virtual schools are included as
  regular districts but serve students across traditional geographic
  boundaries
- **Name changes** - some districts have changed names over the years;
  the data reflects names as published by OSDE
- **COVID gap (2020-2021)** - No OSTP testing occurred during the
  pandemic years

## Caching

``` r
# View cached files
cache_status()

# Clear cache
clear_cache()

# Force fresh download
enr <- fetch_enr(2025, use_cache = FALSE)
```

## Part of the State Schooldata Project

A simple, consistent interface for accessing state-published school data
in Python and R.

**All 50 state packages:**
[github.com/almartin82](https://github.com/almartin82?tab=repositories&q=schooldata)

## Author

Andy Martin (<almartin@gmail.com>) GitHub:
[github.com/almartin82](https://github.com/almartin82)

## License

MIT

# Package index

## Fetch Data

Download enrollment data from OSDE

- [`fetch_enr()`](https://almartin82.github.io/okschooldata/reference/fetch_enr.md)
  : Fetch Oklahoma enrollment data
- [`fetch_enr_multi()`](https://almartin82.github.io/okschooldata/reference/fetch_enr_multi.md)
  : Fetch enrollment data for multiple years
- [`get_available_years()`](https://almartin82.github.io/okschooldata/reference/get_available_years.md)
  : Get available years for Oklahoma enrollment data

## School Directory

Download school directory data from OSDE

- [`fetch_directory()`](https://almartin82.github.io/okschooldata/reference/fetch_directory.md)
  : Fetch Oklahoma school directory data
- [`get_directory_available_years()`](https://almartin82.github.io/okschooldata/reference/get_directory_available_years.md)
  : Get available years for Oklahoma school directory data

## Process & Tidy

Transform data into analysis-ready formats

- [`tidy_enr()`](https://almartin82.github.io/okschooldata/reference/tidy_enr.md)
  : Tidy enrollment data
- [`id_enr_aggs()`](https://almartin82.github.io/okschooldata/reference/id_enr_aggs.md)
  : Identify enrollment aggregation levels
- [`enr_grade_aggs()`](https://almartin82.github.io/okschooldata/reference/enr_grade_aggs.md)
  : Custom Enrollment Grade Level Aggregates

## Assessment Data

Download and analyze OSTP assessment data

- [`fetch_assessment()`](https://almartin82.github.io/okschooldata/reference/fetch_assessment.md)
  : Fetch Oklahoma OSTP assessment data
- [`fetch_assessment_multi()`](https://almartin82.github.io/okschooldata/reference/fetch_assessment_multi.md)
  : Fetch assessment data for multiple years
- [`fetch_district_assessment()`](https://almartin82.github.io/okschooldata/reference/fetch_district_assessment.md)
  : Get assessment data for a specific district
- [`fetch_school_assessment()`](https://almartin82.github.io/okschooldata/reference/fetch_school_assessment.md)
  : Get assessment data for a specific school
- [`get_available_assessment_years()`](https://almartin82.github.io/okschooldata/reference/get_available_assessment_years.md)
  : Get available assessment years

## Cache Management

Manage locally cached data

- [`cache_status()`](https://almartin82.github.io/okschooldata/reference/cache_status.md)
  : Show cache status
- [`clear_cache()`](https://almartin82.github.io/okschooldata/reference/clear_cache.md)
  : Clear the okschooldata cache

# Articles

### Vignettes

- [15 Insights from Oklahoma School Enrollment
  Data](https://almartin82.github.io/okschooldata/articles/enrollment_hooks.md):
- [15 Insights from Oklahoma OSTP Assessment
  Data](https://almartin82.github.io/okschooldata/articles/oklahoma_assessment.md):
